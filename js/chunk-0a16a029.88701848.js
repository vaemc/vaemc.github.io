(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a16a029"],{"02f4":function(e,t,n){var r=n("4588"),i=n("be13");e.exports=function(e){return function(t,n){var o,s,a=String(i(t)),u=r(n),l=a.length;return u<0||u>=l?e?"":void 0:(o=a.charCodeAt(u),o<55296||o>56319||u+1===l||(s=a.charCodeAt(u+1))<56320||s>57343?e?a.charAt(u):o:e?a.slice(u,u+2):s-56320+(o-55296<<10)+65536)}}},"0390":function(e,t,n){"use strict";var r=n("02f4")(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"0bfb":function(e,t,n){"use strict";var r=n("cb7c");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"214f":function(e,t,n){"use strict";n("b0c5");var r=n("2aba"),i=n("32e9"),o=n("79e5"),s=n("be13"),a=n("2b4c"),u=n("520a"),l=a("species"),f=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),c=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var _=a(e),h=!o((function(){var t={};return t[_]=function(){return 7},7!=""[e](t)})),p=h?!o((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[l]=function(){return n}),n[_](""),!t})):void 0;if(!h||!p||"replace"===e&&!f||"split"===e&&!c){var d=/./[_],g=n(s,_,""[e],(function(e,t,n,r,i){return t.exec===u?h&&!i?{done:!0,value:d.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),b=g[0],y=g[1];r(String.prototype,e,b),i(RegExp.prototype,_,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},"28a5":function(e,t,n){"use strict";var r=n("aae3"),i=n("cb7c"),o=n("ebd6"),s=n("0390"),a=n("9def"),u=n("5f1b"),l=n("520a"),f=n("79e5"),c=Math.min,_=[].push,h="split",p="length",d="lastIndex",g=4294967295,b=!f((function(){RegExp(g,"y")}));n("214f")("split",2,(function(e,t,n,f){var y;return y="c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[p]||2!="ab"[h](/(?:ab)*/)[p]||4!="."[h](/(.?)(.?)/)[p]||"."[h](/()()/)[p]>1||""[h](/.?/)[p]?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(i,e,t);var o,s,a,u=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),c=0,h=void 0===t?g:t>>>0,b=new RegExp(e.source,f+"g");while(o=l.call(b,i)){if(s=b[d],s>c&&(u.push(i.slice(c,o.index)),o[p]>1&&o.index<i[p]&&_.apply(u,o.slice(1)),a=o[0][p],c=s,u[p]>=h))break;b[d]===o.index&&b[d]++}return c===i[p]?!a&&b.test("")||u.push(""):u.push(i.slice(c)),u[p]>h?u.slice(0,h):u}:"0"[h](void 0,0)[p]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var i=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,i,r):y.call(String(i),n,r)},function(e,t){var r=f(y,e,this,t,y!==n);if(r.done)return r.value;var l=i(e),_=String(this),h=o(l,RegExp),p=l.unicode,d=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(b?"y":"g"),m=new h(b?l:"^(?:"+l.source+")",d),v=void 0===t?g:t>>>0;if(0===v)return[];if(0===_.length)return null===u(m,_)?[_]:[];var N=0,S=0,B=[];while(S<_.length){m.lastIndex=b?S:0;var E,O=u(m,b?_:_.slice(S));if(null===O||(E=c(a(m.lastIndex+(b?0:S)),_.length))===N)S=s(_,S,p);else{if(B.push(_.slice(N,S)),B.length===v)return B;for(var w=1;w<=O.length-1;w++)if(B.push(O[w]),B.length===v)return B;S=N=E}}return B.push(_.slice(N)),B}]}))},3846:function(e,t,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"3cfe":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",[n("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[n("a-alert",{attrs:{message:"设计ID："+e.id,type:"info",banner:""}}),n("a-form-item",{attrs:{label:"标题","label-col":{span:5},"wrapper-col":{span:12}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["title",{rules:[{required:!0,message:"标题不能为空！"}]}],expression:"[\n        'title',\n        {rules: [{ required: true, message: '标题不能为空！' }]}\n      ]"}]})],1),n("a-form-item",{attrs:{label:"技术简介","label-col":{span:5},"wrapper-col":{span:12}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["subtitle",{rules:[{required:!0,message:"技术简介不能为空！"}]}],expression:"[\n        'subtitle',\n        {rules: [{ required: true, message: '技术简介不能为空！' }]}\n      ]"}]})],1),n("a-form-item",{attrs:{label:"价格","label-col":{span:5},"wrapper-col":{span:12}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["price",{rules:[{required:!0,message:"价格不能为空！"}]}],expression:"[\n        'price',\n        {rules: [{ required: true, message: '价格不能为空！' }]}\n      ]"}]})],1),n("a-form-item",{attrs:{label:"内容","label-col":{span:5},"wrapper-col":{span:12}}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["content",{rules:[{required:!0,message:"内容不能为空！"}]}],expression:"[\n        'content',\n        {rules: [{ required: true, message: '内容不能为空！' }]}\n      ]"}],attrs:{autosize:{minRows:5,maxRows:6}}})],1),n("a-form-item",{attrs:{"label-col":{span:5},"wrapper-col":{span:12},label:"是否有文档"}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["document",{rules:[{required:!0,message:"请选择是否有文档！"}]}],expression:"[\n        'document',\n        {rules: [{ required: true, message: '请选择是否有文档！' }]}\n      ]"}]},[n("a-radio",{attrs:{value:"true"}},[e._v("是")]),n("a-radio",{attrs:{value:"false"}},[e._v("否")])],1)],1),n("a-form-item",{attrs:{label:"设计语言","label-col":{span:5},"wrapper-col":{span:12}}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["language",{rules:[{required:!0,message:"请选择设计语言！"}]}],expression:"[\n        'language',\n        {rules: [{ required: true, message: '请选择设计语言！' }]}\n      ]"}],attrs:{showSearch:"",placeholder:"请选择设计语言"},on:{change:e.handleSelectChange}},[n("a-select-option",{attrs:{value:"c#"}},[e._v("c#")]),n("a-select-option",{attrs:{value:"java"}},[e._v("java")]),n("a-select-option",{attrs:{value:"flutter"}},[e._v("flutter")]),n("a-select-option",{attrs:{value:"react native"}},[e._v("react native")]),n("a-select-option",{attrs:{value:"vue"}},[e._v("vue")]),n("a-select-option",{attrs:{value:"react"}},[e._v("react")]),n("a-select-option",{attrs:{value:"spring boot"}},[e._v("spring boot")]),n("a-select-option",{attrs:{value:"asp.net"}},[e._v("asp.net")]),n("a-select-option",{attrs:{value:"php"}},[e._v("php")]),n("a-select-option",{attrs:{value:"jsp"}},[e._v("jsp")]),n("a-select-option",{attrs:{value:"小程序"}},[e._v("小程序")]),n("a-select-option",{attrs:{value:"winform"}},[e._v("winform")]),n("a-select-option",{attrs:{value:"wpf"}},[e._v("wpf")]),n("a-select-option",{attrs:{value:"electron"}},[e._v("electron")]),n("a-select-option",{attrs:{value:"arduino"}},[e._v("arduino")]),n("a-select-option",{attrs:{value:"51"}},[e._v("51")]),n("a-select-option",{attrs:{value:"stm32"}},[e._v("stm32")])],1)],1),n("a-form-item",{attrs:{label:"类型","label-col":{span:5},"wrapper-col":{span:12}}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["type",{rules:[{required:!0,message:"请选择设计类型！"}]}],expression:"[\n        'type',\n        {rules: [{ required: true, message: '请选择设计类型！' }]}\n      ]"}],attrs:{placeholder:"请选择设计类型"},on:{change:e.handleSelectChange}},[n("a-select-option",{attrs:{value:"app"}},[e._v("app")]),n("a-select-option",{attrs:{value:"desktop"}},[e._v("desktop")]),n("a-select-option",{attrs:{value:"web"}},[e._v("web")]),n("a-select-option",{attrs:{value:"iot"}},[e._v("iot")])],1)],1),n("a-form-item",{attrs:{label:"标签","label-col":{span:5},"wrapper-col":{span:12}}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["tags",{rules:[{required:!0,message:"请选择标签！"}]}],expression:"[\n        'tags',\n        {rules: [{ required: true, message: '请选择标签！' }]}\n      ]"}],attrs:{mode:"tags",tokenSeparators:[","],placeholder:"请选择标签"},on:{change:e.handleSelectChange}},[n("a-select-option",{attrs:{value:"c#"}},[e._v("c#")]),n("a-select-option",{attrs:{value:"java"}},[e._v("java")]),n("a-select-option",{attrs:{value:"flutter"}},[e._v("flutter")]),n("a-select-option",{attrs:{value:"react native"}},[e._v("react native")]),n("a-select-option",{attrs:{value:"vue"}},[e._v("vue")]),n("a-select-option",{attrs:{value:"react"}},[e._v("react")]),n("a-select-option",{attrs:{value:"spring boot"}},[e._v("spring boot")]),n("a-select-option",{attrs:{value:"asp.net"}},[e._v("asp.net")]),n("a-select-option",{attrs:{value:"php"}},[e._v("php")]),n("a-select-option",{attrs:{value:"jsp"}},[e._v("jsp")]),n("a-select-option",{attrs:{value:"小程序"}},[e._v("小程序")]),n("a-select-option",{attrs:{value:"winform"}},[e._v("winform")]),n("a-select-option",{attrs:{value:"wpf"}},[e._v("wpf")]),n("a-select-option",{attrs:{value:"electron"}},[e._v("electron")]),n("a-select-option",{attrs:{value:"arduino"}},[e._v("arduino")]),n("a-select-option",{attrs:{value:"51"}},[e._v("51")]),n("a-select-option",{attrs:{value:"stm32"}},[e._v("stm32")]),n("a-select-option",{attrs:{value:"mysql"}},[e._v("mysql")]),n("a-select-option",{attrs:{value:"sqlite"}},[e._v("sqlite")])],1)],1),n("a-form-item",{attrs:{label:"图片","label-col":{span:5},"wrapper-col":{span:12}}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["images",{rules:[{required:!0,message:"图片不能为空！"}]}],expression:"[\n        'images',\n        {rules: [{ required: true, message: '图片不能为空！' }]}\n      ]"}],attrs:{placeholder:"一行一个图片链接",autosize:{minRows:5,maxRows:6}}})],1),n("a-form-item",{attrs:{label:"视频","label-col":{span:5},"wrapper-col":{span:12}}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["videos",{rules:[{required:!1,message:"视频不能为空！"}]}],expression:"[\n        'videos',\n        {rules: [{ required: false, message: '视频不能为空！' }]}\n      ]"}],attrs:{placeholder:"一行一个视频链接",autosize:{minRows:5,maxRows:6}}})],1),n("a-form-item",{attrs:{"wrapper-col":{span:12,offset:5}}},[n("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v("发布")])],1)],1)],1)},i=[],o=(n("28a5"),n("6b54"),n("9e8e")),s={data:function(){return{formLayout:"horizontal",form:this.$form.createForm(this),id:(new o["a"]).toString()}},methods:{handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,n){e||(n.id=t.id,n.images=n.images.split("\n"),n.videos=n.videos.split("\n"),n.price=parseInt(n.price),n.document="true"==n.document,console.log(n),t.axios.post("design",n).then((function(e){console.log(e.data),t.$message.success("发布设计成功!")})).catch((function(e){console.log(e)})))}))},handleSelectChange:function(e){},mounted:function(){}}},a=s,u=n("2877"),l=Object(u["a"])(a,r,i,!1,null,null,null);t["default"]=l.exports},"520a":function(e,t,n){"use strict";var r=n("0bfb"),i=RegExp.prototype.exec,o=String.prototype.replace,s=i,a="lastIndex",u=function(){var e=/a/,t=/b*/g;return i.call(e,"a"),i.call(t,"a"),0!==e[a]||0!==t[a]}(),l=void 0!==/()??/.exec("")[1],f=u||l;f&&(s=function(e){var t,n,s,f,c=this;return l&&(n=new RegExp("^"+c.source+"$(?!\\s)",r.call(c))),u&&(t=c[a]),s=i.call(c,e),u&&s&&(c[a]=c.global?s.index+s[0].length:t),l&&s&&s.length>1&&o.call(s[0],n,(function(){for(f=1;f<arguments.length-2;f++)void 0===arguments[f]&&(s[f]=void 0)})),s}),e.exports=s},"5f1b":function(e,t,n){"use strict";var r=n("23c6"),i=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var o=n.call(e,t);if("object"!==typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},"6b54":function(e,t,n){"use strict";n("3846");var r=n("cb7c"),i=n("0bfb"),o=n("9e1e"),s="toString",a=/./[s],u=function(e){n("2aba")(RegExp.prototype,s,e,!0)};n("79e5")((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?u((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)})):a.name!=s&&u((function(){return a.call(this)}))},"9e8e":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global,Buffer){__webpack_require__.d(__webpack_exports__,"a",(function(){return bson_53}));var long__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("da5a"),long__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(long__WEBPACK_IMPORTED_MODULE_0__),buffer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("1c35"),buffer__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(buffer__WEBPACK_IMPORTED_MODULE_1__),commonjsGlobal="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};function createCommonjsModule(e,t){return t={exports:{}},e(t,t.exports),t.exports}var map=createCommonjsModule((function(e){if("undefined"!==typeof commonjsGlobal.Map)e.exports=commonjsGlobal.Map,e.exports.Map=commonjsGlobal.Map;else{var t=function(e){this._keys=[],this._values={};for(var t=0;t<e.length;t++)if(null!=e[t]){var n=e[t],r=n[0],i=n[1];this._keys.push(r),this._values[r]={v:i,i:this._keys.length-1}}};t.prototype.clear=function(){this._keys=[],this._values={}},t.prototype.delete=function(e){var t=this._values[e];return null!=t&&(delete this._values[e],this._keys.splice(t.i,1),!0)},t.prototype.entries=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?[n,e._values[n].v]:void 0,done:void 0===n}}}},t.prototype.forEach=function(e,t){t=t||this;for(var n=0;n<this._keys.length;n++){var r=this._keys[n];e.call(t,this._values[r].v,r,t)}},t.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},t.prototype.has=function(e){return null!=this._values[e]},t.prototype.keys=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?n:void 0,done:void 0===n}}}},t.prototype.set=function(e,t){return this._values[e]?(this._values[e].v=t,this):(this._keys.push(e),this._values[e]={v:t,i:this._keys.length-1},this)},t.prototype.values=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?e._values[n].v:void 0,done:void 0===n}}}},Object.defineProperty(t.prototype,"size",{enumerable:!0,get:function(){return this._keys.length}}),e.exports=t}})),map_1=map.Map;long__WEBPACK_IMPORTED_MODULE_0___default.a.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},long__WEBPACK_IMPORTED_MODULE_0___default.a.fromExtendedJSON=function(e,t){var n=long__WEBPACK_IMPORTED_MODULE_0___default.a.fromString(e.$numberLong);return t&&t.relaxed?n.toNumber():n},Object.defineProperty(long__WEBPACK_IMPORTED_MODULE_0___default.a.prototype,"_bsontype",{value:"Long"});var long_1=long__WEBPACK_IMPORTED_MODULE_0___default.a;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var Double=function(){function e(t){_classCallCheck(this,e),this.value=t}return _createClass(e,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(e){return e&&e.relaxed&&isFinite(this.value)?this.value:{$numberDouble:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(t,n){return n&&n.relaxed?parseFloat(t.$numberDouble):new e(parseFloat(t.$numberDouble))}}]),e}();Object.defineProperty(Double.prototype,"_bsontype",{value:"Double"});var double_1=Double;function _typeof(e){return _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _classCallCheck$1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$1(e,t,n){return t&&_defineProperties$1(e.prototype,t),n&&_defineProperties$1(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!==typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}var Timestamp=function(e){function t(e,n){var r;return _classCallCheck$1(this,t),r=long_1.isLong(e)?_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e.low,e.high)):_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n)),_possibleConstructorReturn(r)}return _inherits(t,e),_createClass$1(t,[{key:"toJSON",value:function(){return{$timestamp:this.toString()}}},{key:"toExtendedJSON",value:function(){return{$timestamp:{t:this.high,i:this.low}}}}],[{key:"fromInt",value:function(e){return new t(long_1.fromInt(e))}},{key:"fromNumber",value:function(e){return new t(long_1.fromNumber(e))}},{key:"fromBits",value:function(e,n){return new t(e,n)}},{key:"fromString",value:function(e,n){return new t(long_1.fromString(e,n))}},{key:"fromExtendedJSON",value:function(e){return new t(e.$timestamp.i,e.$timestamp.t)}}]),t}(long_1);Object.defineProperty(Timestamp.prototype,"_bsontype",{value:"Timestamp"});var timestamp=Timestamp,require$$0={};function normalizedFunctionString(e){return e.toString().replace("function(","function (")}function insecureRandomBytes(e){for(var t=new Uint8Array(e),n=0;n<e;++n)t[n]=Math.floor(256*Math.random());return t}var randomBytes=insecureRandomBytes;if("undefined"!==typeof window&&window.crypto&&window.crypto.getRandomValues)randomBytes=function(e){return window.crypto.getRandomValues(new Uint8Array(e))};else{try{randomBytes=require$$0.randomBytes}catch(e){}null==randomBytes&&(randomBytes=insecureRandomBytes)}var utils={normalizedFunctionString:normalizedFunctionString,randomBytes:randomBytes};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}var cachedSetTimeout=defaultSetTimout,cachedClearTimeout=defaultClearTimeout;function runTimeout(t){if(cachedSetTimeout===setTimeout)return setTimeout(t,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(t,0);try{return cachedSetTimeout(t,0)}catch(e){try{return cachedSetTimeout.call(null,t,0)}catch(e){return cachedSetTimeout.call(this,t,0)}}}function runClearTimeout(t){if(cachedClearTimeout===clearTimeout)return clearTimeout(t);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(t);try{return cachedClearTimeout(t)}catch(e){try{return cachedClearTimeout.call(null,t)}catch(e){return cachedClearTimeout.call(this,t)}}}"function"===typeof global.setTimeout&&(cachedSetTimeout=setTimeout),"function"===typeof global.clearTimeout&&(cachedClearTimeout=clearTimeout);var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;var t=queue.length;while(t){currentQueue=queue,queue=[];while(++queueIndex<t)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function nextTick(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)}function Item(e,t){this.fun=e,this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)};var title="browser",platform="browser",browser=!0,env={},argv=[],version="",versions={},release={},config={};function noop(){}var on=noop,addListener=noop,once=noop,off=noop,removeListener=noop,removeAllListeners=noop,emit=noop;function binding(e){throw new Error("process.binding is not supported")}function cwd(){return"/"}function chdir(e){throw new Error("process.chdir is not supported")}function umask(){return 0}var performance=global.performance||{},performanceNow=performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()};function hrtime(e){var t=.001*performanceNow.call(performance),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],r-=e[1],r<0&&(n--,r+=1e9)),[n,r]}var startTime=new Date;function uptime(){var e=new Date,t=e-startTime;return t/1e3}var process={nextTick:nextTick,title:title,browser:browser,env:env,argv:argv,version:version,versions:versions,on:on,addListener:addListener,once:once,off:off,removeListener:removeListener,removeAllListeners:removeAllListeners,emit:emit,binding:binding,cwd:cwd,chdir:chdir,umask:umask,hrtime:hrtime,platform:platform,release:release,config:config,uptime:uptime},inherits;inherits="function"===typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};var inherits$1=inherits;function _typeof$1(e){return _typeof$1="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(e)}var formatRegExp=/%[sdj%]/g;function format(e){if(!isString(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(inspect(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,o=String(e).replace(formatRegExp,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}})),s=r[n];n<i;s=r[++n])isNull(s)||!isObject(s)?o+=" "+s:o+=" "+inspect(s);return o}function deprecate(e,t){if(isUndefined(global.process))return function(){return deprecate(e,t).apply(this,arguments)};var n=!1;function r(){return n||(console.error(t),n=!0),e.apply(this,arguments)}return r}var debugs={},debugEnviron;function debuglog(e){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),e=e.toUpperCase(),!debugs[e])if(new RegExp("\\b"+e+"\\b","i").test(debugEnviron)){var t=0;debugs[e]=function(){var n=format.apply(null,arguments);console.error("%s %d: %s",e,t,n)}}else debugs[e]=function(){};return debugs[e]}function inspect(e,t){var n={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),isBoolean(t)?n.showHidden=t:t&&_extend(n,t),isUndefined(n.showHidden)&&(n.showHidden=!1),isUndefined(n.depth)&&(n.depth=2),isUndefined(n.colors)&&(n.colors=!1),isUndefined(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=stylizeWithColor),formatValue(n,e,n.depth)}function stylizeWithColor(e,t){var n=inspect.styles[t];return n?"["+inspect.colors[n][0]+"m"+e+"["+inspect.colors[n][1]+"m":e}function stylizeNoColor(e,t){return e}function arrayToHash(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}function formatValue(e,t,n){if(e.customInspect&&t&&isFunction(t.inspect)&&t.inspect!==inspect&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return isString(r)||(r=formatValue(e,r,n)),r}var i=formatPrimitive(e,t);if(i)return i;var o=Object.keys(t),s=arrayToHash(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),isError(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return formatError(t);if(0===o.length){if(isFunction(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(isRegExp(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(isDate(t))return e.stylize(Date.prototype.toString.call(t),"date");if(isError(t))return formatError(t)}var u,l="",f=!1,c=["{","}"];if(isArray(t)&&(f=!0,c=["[","]"]),isFunction(t)){var _=t.name?": "+t.name:"";l=" [Function"+_+"]"}return isRegExp(t)&&(l=" "+RegExp.prototype.toString.call(t)),isDate(t)&&(l=" "+Date.prototype.toUTCString.call(t)),isError(t)&&(l=" "+formatError(t)),0!==o.length||f&&0!=t.length?n<0?isRegExp(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),u=f?formatArray(e,t,n,s,o):o.map((function(r){return formatProperty(e,t,n,s,r,f)})),e.seen.pop(),reduceToSingleString(u,l,c)):c[0]+l+c[1]}function formatPrimitive(e,t){if(isUndefined(t))return e.stylize("undefined","undefined");if(isString(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return isNumber(t)?e.stylize(""+t,"number"):isBoolean(t)?e.stylize(""+t,"boolean"):isNull(t)?e.stylize("null","null"):void 0}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)hasOwnProperty(t,String(s))?o.push(formatProperty(e,t,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(formatProperty(e,t,n,r,i,!0))})),o}function formatProperty(e,t,n,r,i,o){var s,a,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),hasOwnProperty(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=isNull(n)?formatValue(e,u.value,null):formatValue(e,u.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n"))):a=e.stylize("[Circular]","special")),isUndefined(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function reduceToSingleString(e,t,n){var r=e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return r>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"===typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"===typeof e}function isString(e){return"string"===typeof e}function isSymbol(e){return"symbol"===_typeof$1(e)}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"===_typeof$1(e)&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"===typeof e}function isPrimitive(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===_typeof$1(e)||"undefined"===typeof e}function isBuffer(e){return Buffer.isBuffer(e)}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return e<10?"0"+e.toString(10):e.toString(10)}inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp$1(){var e=new Date,t=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":");return[e.getDate(),months[e.getMonth()],t].join(" ")}function log(){console.log("%s - %s",timestamp$1(),format.apply(null,arguments))}function _extend(e,t){if(!t||!isObject(t))return e;var n=Object.keys(t),r=n.length;while(r--)e[n[r]]=t[n[r]];return e}function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var util={inherits:inherits$1,_extend:_extend,log:log,isBuffer:isBuffer,isPrimitive:isPrimitive,isFunction:isFunction,isError:isError,isDate:isDate,isObject:isObject,isRegExp:isRegExp,isUndefined:isUndefined,isSymbol:isSymbol,isString:isString,isNumber:isNumber,isNullOrUndefined:isNullOrUndefined,isNull:isNull,isBoolean:isBoolean,isArray:isArray,inspect:inspect,deprecate:deprecate,format:format,debuglog:debuglog};function _classCallCheck$2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$2(e,t,n){return t&&_defineProperties$2(e.prototype,t),n&&_defineProperties$2(e,n),e}var Buffer$1=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,randomBytes$1=utils.randomBytes,deprecate$1=util.deprecate,PROCESS_UNIQUE=randomBytes$1(5),checkForHexRegExp=new RegExp("^[0-9a-fA-F]{24}$"),hasBufferType=!1;try{Buffer$1&&Buffer$1.from&&(hasBufferType=!0)}catch(err){hasBufferType=!1}for(var hexTable=[],_i=0;_i<256;_i++)hexTable[_i]=(_i<=15?"0":"")+_i.toString(16);var decodeLookup=[],i=0;while(i<10)decodeLookup[48+i]=i++;while(i<16)decodeLookup[55+i]=decodeLookup[87+i]=i++;var _Buffer=Buffer$1;function convertToHex(e){return e.toString("hex")}function makeObjectIdError(e,t){var n=e[t];return new TypeError('ObjectId string "'.concat(e,'" contains invalid character "').concat(n,'" with character code (').concat(e.charCodeAt(t),"). All character codes for a non-hex string must be less than 256."))}var ObjectId=function(){function e(t){if(_classCallCheck$2(this,e),t instanceof e)return t;if(null==t||"number"===typeof t)return this.id=e.generate(t),void(e.cacheHexString&&(this.__id=this.toString("hex")));var n=e.isValid(t);if(!n&&null!=t)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(n&&"string"===typeof t&&24===t.length&&hasBufferType)return new e(Buffer$1.from(t,"hex"));if(n&&"string"===typeof t&&24===t.length)return e.createFromHexString(t);if(null==t||12!==t.length){if(null!=t&&t.toHexString)return e.createFromHexString(t.toHexString());throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}this.id=t,e.cacheHexString&&(this.__id=this.toString("hex"))}return _createClass$2(e,[{key:"toHexString",value:function(){if(e.cacheHexString&&this.__id)return this.__id;var t="";if(!this.id||!this.id.length)throw new TypeError("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id instanceof _Buffer)return t=convertToHex(this.id),e.cacheHexString&&(this.__id=t),t;for(var n=0;n<this.id.length;n++){var r=hexTable[this.id.charCodeAt(n)];if("string"!==typeof r)throw makeObjectIdError(this.id,n);t+=r}return e.cacheHexString&&(this.__id=t),t}},{key:"toString",value:function(e){return this.id&&this.id.copy?this.id.toString("string"===typeof e?e:"hex"):this.toHexString()}},{key:"toJSON",value:function(){return this.toHexString()}},{key:"equals",value:function(t){return t instanceof e?this.toString()===t.toString():"string"===typeof t&&e.isValid(t)&&12===t.length&&this.id instanceof _Buffer?t===this.id.toString("binary"):"string"===typeof t&&e.isValid(t)&&24===t.length?t.toLowerCase()===this.toHexString():"string"===typeof t&&e.isValid(t)&&12===t.length?t===this.id:!(null==t||!(t instanceof e||t.toHexString))&&t.toHexString()===this.toHexString()}},{key:"getTimestamp",value:function(){var e=new Date,t=this.id.readUInt32BE(0);return e.setTime(1e3*Math.floor(t)),e}},{key:"toExtendedJSON",value:function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}}],[{key:"getInc",value:function(){return e.index=(e.index+1)%16777215}},{key:"generate",value:function(t){"number"!==typeof t&&(t=~~(Date.now()/1e3));var n=e.getInc(),r=Buffer$1.alloc(12);return r[3]=255&t,r[2]=t>>8&255,r[1]=t>>16&255,r[0]=t>>24&255,r[4]=PROCESS_UNIQUE[0],r[5]=PROCESS_UNIQUE[1],r[6]=PROCESS_UNIQUE[2],r[7]=PROCESS_UNIQUE[3],r[8]=PROCESS_UNIQUE[4],r[11]=255&n,r[10]=n>>8&255,r[9]=n>>16&255,r}},{key:"createPk",value:function(){return new e}},{key:"createFromTime",value:function(t){var n=Buffer$1.from([0,0,0,0,0,0,0,0,0,0,0,0]);return n[3]=255&t,n[2]=t>>8&255,n[1]=t>>16&255,n[0]=t>>24&255,new e(n)}},{key:"createFromHexString",value:function(t){if("undefined"===typeof t||null!=t&&24!==t.length)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(hasBufferType)return new e(Buffer$1.from(t,"hex"));var n=new _Buffer(12),r=0,i=0;while(i<24)n[r++]=decodeLookup[t.charCodeAt(i++)]<<4|decodeLookup[t.charCodeAt(i++)];return new e(n)}},{key:"isValid",value:function(t){return null!=t&&("number"===typeof t||("string"===typeof t?12===t.length||24===t.length&&checkForHexRegExp.test(t):t instanceof e||(t instanceof _Buffer&&12===t.length||!!t.toHexString&&(12===t.id.length||24===t.id.length&&checkForHexRegExp.test(t.id)))))}},{key:"fromExtendedJSON",value:function(t){return new e(t.$oid)}}]),e}();ObjectId.get_inc=deprecate$1((function(){return ObjectId.getInc()}),"Please use the static `ObjectId.getInc()` instead"),ObjectId.prototype.get_inc=deprecate$1((function(){return ObjectId.getInc()}),"Please use the static `ObjectId.getInc()` instead"),ObjectId.prototype.getInc=deprecate$1((function(){return ObjectId.getInc()}),"Please use the static `ObjectId.getInc()` instead"),ObjectId.prototype.generate=deprecate$1((function(e){return ObjectId.generate(e)}),"Please use the static `ObjectId.generate(time)` instead"),Object.defineProperty(ObjectId.prototype,"generationTime",{enumerable:!0,get:function(){return this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24},set:function(e){this.id[3]=255&e,this.id[2]=e>>8&255,this.id[1]=e>>16&255,this.id[0]=e>>24&255}}),ObjectId.prototype[util.inspect.custom||"inspect"]=ObjectId.prototype.toString,ObjectId.index=~~(16777215*Math.random()),Object.defineProperty(ObjectId.prototype,"_bsontype",{value:"ObjectID"});var objectid=ObjectId;function _classCallCheck$3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$3(e,t,n){return t&&_defineProperties$3(e.prototype,t),n&&_defineProperties$3(e,n),e}function alphabetize(e){return e.split("").sort().join("")}var BSONRegExp=function(){function e(t,n){_classCallCheck$3(this,e),this.pattern=t||"",this.options=n?alphabetize(n):"";for(var r=0;r<this.options.length;r++)if("i"!==this.options[r]&&"m"!==this.options[r]&&"x"!==this.options[r]&&"l"!==this.options[r]&&"s"!==this.options[r]&&"u"!==this.options[r])throw new Error("The regular expression option [".concat(this.options[r],"] is not supported"))}return _createClass$3(e,[{key:"toExtendedJSON",value:function(){return{$regularExpression:{pattern:this.pattern,options:this.options}}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$regularExpression.pattern,t.$regularExpression.options.split("").sort().join(""))}}]),e}();Object.defineProperty(BSONRegExp.prototype,"_bsontype",{value:"BSONRegExp"});var regexp=BSONRegExp;function _classCallCheck$4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$4(e,t,n){return t&&_defineProperties$4(e.prototype,t),n&&_defineProperties$4(e,n),e}var BSONSymbol=function(){function e(t){_classCallCheck$4(this,e),this.value=t}return _createClass$4(e,[{key:"valueOf",value:function(){return this.value}},{key:"toString",value:function(){return this.value}},{key:"inspect",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(){return{$symbol:this.value}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$symbol)}}]),e}();Object.defineProperty(BSONSymbol.prototype,"_bsontype",{value:"Symbol"});var symbol=BSONSymbol;function _classCallCheck$5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$5(e,t,n){return t&&_defineProperties$5(e.prototype,t),n&&_defineProperties$5(e,n),e}var Int32=function(){function e(t){_classCallCheck$5(this,e),this.value=t}return _createClass$5(e,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(e){return e&&e.relaxed?this.value:{$numberInt:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(t,n){return n&&n.relaxed?parseInt(t.$numberInt,10):new e(t.$numberInt)}}]),e}();Object.defineProperty(Int32.prototype,"_bsontype",{value:"Int32"});var int_32=Int32;function _classCallCheck$6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$6(e,t,n){return t&&_defineProperties$6(e.prototype,t),n&&_defineProperties$6(e,n),e}var Code=function(){function e(t,n){_classCallCheck$6(this,e),this.code=t,this.scope=n}return _createClass$6(e,[{key:"toJSON",value:function(){return{scope:this.scope,code:this.code}}},{key:"toExtendedJSON",value:function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$code,t.$scope)}}]),e}();Object.defineProperty(Code.prototype,"_bsontype",{value:"Code"});var code=Code,Buffer$2=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,PARSE_STRING_REGEXP=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,PARSE_INF_REGEXP=/^(\+|-)?(Infinity|inf)$/i,PARSE_NAN_REGEXP=/^(\+|-)?NaN$/i,EXPONENT_MAX=6111,EXPONENT_MIN=-6176,EXPONENT_BIAS=6176,MAX_DIGITS=34,NAN_BUFFER=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),INF_NEGATIVE_BUFFER=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),INF_POSITIVE_BUFFER=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),EXPONENT_REGEX=/^([-+])?(\d+)?$/;function isDigit(e){return!isNaN(parseInt(e,10))}function divideu128(e){var t=long_1.fromNumber(1e9),n=long_1.fromNumber(0);if(!e.parts[0]&&!e.parts[1]&&!e.parts[2]&&!e.parts[3])return{quotient:e,rem:n};for(var r=0;r<=3;r++)n=n.shiftLeft(32),n=n.add(new long_1(e.parts[r],0)),e.parts[r]=n.div(t).low,n=n.modulo(t);return{quotient:e,rem:n}}function multiply64x2(e,t){if(!e&&!t)return{high:long_1.fromNumber(0),low:long_1.fromNumber(0)};var n=e.shiftRightUnsigned(32),r=new long_1(e.getLowBits(),0),i=t.shiftRightUnsigned(32),o=new long_1(t.getLowBits(),0),s=n.multiply(i),a=n.multiply(o),u=r.multiply(i),l=r.multiply(o);return s=s.add(a.shiftRightUnsigned(32)),a=new long_1(a.getLowBits(),0).add(u).add(l.shiftRightUnsigned(32)),s=s.add(a.shiftRightUnsigned(32)),l=a.shiftLeft(32).add(new long_1(l.getLowBits(),0)),{high:s,low:l}}function lessThan(e,t){var n=e.high>>>0,r=t.high>>>0;if(n<r)return!0;if(n===r){var i=e.low>>>0,o=t.low>>>0;if(i<o)return!0}return!1}function invalidErr(e,t){throw new TypeError('"'.concat(e,'" is not a valid Decimal128 string - ').concat(t))}function Decimal128(e){this.bytes=e}Decimal128.fromString=function(e){var t=!1,n=!1,r=!1,i=0,o=0,s=0,a=0,u=0,l=[0],f=0,c=0,_=0,h=0,p=0,d=0,g=[0,0],b=[0,0],y=0,m=0;if(e.length>=7e3)throw new TypeError(e+" not a valid Decimal128 string");var v=e.match(PARSE_STRING_REGEXP),N=e.match(PARSE_INF_REGEXP),S=e.match(PARSE_NAN_REGEXP);if(!v&&!N&&!S||0===e.length)throw new TypeError(e+" not a valid Decimal128 string");if(v){var B=v[2],E=v[4],O=v[5],w=v[6];E&&void 0===w&&invalidErr(e,"missing exponent power"),E&&void 0===B&&invalidErr(e,"missing exponent base"),void 0===E&&(O||w)&&invalidErr(e,"missing e before exponent")}if("+"!==e[m]&&"-"!==e[m]||(t="-"===e[m++]),!isDigit(e[m])&&"."!==e[m]){if("i"===e[m]||"I"===e[m])return new Decimal128(Buffer$2.from(t?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER));if("N"===e[m])return new Decimal128(Buffer$2.from(NAN_BUFFER))}while(isDigit(e[m])||"."===e[m])"."!==e[m]?(f<34&&("0"!==e[m]||r)&&(r||(u=o),r=!0,l[c++]=parseInt(e[m],10),f+=1),r&&(s+=1),n&&(a+=1),o+=1,m+=1):(n&&invalidErr(e,"contains multiple periods"),n=!0,m+=1);if(n&&!o)throw new TypeError(e+" not a valid Decimal128 string");if("e"===e[m]||"E"===e[m]){var A=e.substr(++m).match(EXPONENT_REGEX);if(!A||!A[2])return new Decimal128(Buffer$2.from(NAN_BUFFER));p=parseInt(A[0],10),m+=A[0].length}if(e[m])return new Decimal128(Buffer$2.from(NAN_BUFFER));if(_=0,f){if(h=f-1,i=s,1!==i)while("0"===e[u+i-1])i-=1}else _=0,h=0,l[0]=0,s=1,f=1,i=0;p<=a&&a-p>16384?p=EXPONENT_MIN:p-=a;while(p>EXPONENT_MAX){if(h+=1,h-_>MAX_DIGITS){var T=l.join("");if(T.match(/^0+$/)){p=EXPONENT_MAX;break}invalidErr(e,"overflow")}p-=1}while(p<EXPONENT_MIN||f<s){if(0===h&&i<f){p=EXPONENT_MIN,i=0;break}if(f<s?s-=1:h-=1,p<EXPONENT_MAX)p+=1;else{var I=l.join("");if(I.match(/^0+$/)){p=EXPONENT_MAX;break}invalidErr(e,"overflow")}}if(h-_+1<i){var D=o;n&&(u+=1,D+=1),t&&(u+=1,D+=1);var $=parseInt(e[u+h+1],10),x=0;if($>=5&&(x=1,5===$))for(x=l[h]%2===1,d=u+h+2;d<D;d++)if(parseInt(e[d],10)){x=1;break}if(x)for(var R=h;R>=0;R--)if(++l[R]>9&&(l[R]=0,0===R)){if(!(p<EXPONENT_MAX))return new Decimal128(Buffer$2.from(t?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER));p+=1,l[R]=1}}if(g=long_1.fromNumber(0),b=long_1.fromNumber(0),0===i)g=long_1.fromNumber(0),b=long_1.fromNumber(0);else if(h-_<17){var M=_;for(b=long_1.fromNumber(l[M++]),g=new long_1(0,0);M<=h;M++)b=b.multiply(long_1.fromNumber(10)),b=b.add(long_1.fromNumber(l[M]))}else{var P=_;for(g=long_1.fromNumber(l[P++]);P<=h-17;P++)g=g.multiply(long_1.fromNumber(10)),g=g.add(long_1.fromNumber(l[P]));for(b=long_1.fromNumber(l[P++]);P<=h;P++)b=b.multiply(long_1.fromNumber(10)),b=b.add(long_1.fromNumber(l[P]))}var C=multiply64x2(g,long_1.fromString("100000000000000000"));C.low=C.low.add(b),lessThan(C.low,b)&&(C.high=C.high.add(long_1.fromNumber(1))),y=p+EXPONENT_BIAS;var U={low:long_1.fromNumber(0),high:long_1.fromNumber(0)};C.high.shiftRightUnsigned(49).and(long_1.fromNumber(1)).equals(long_1.fromNumber(1))?(U.high=U.high.or(long_1.fromNumber(3).shiftLeft(61)),U.high=U.high.or(long_1.fromNumber(y).and(long_1.fromNumber(16383).shiftLeft(47))),U.high=U.high.or(C.high.and(long_1.fromNumber(0x7fffffffffff)))):(U.high=U.high.or(long_1.fromNumber(16383&y).shiftLeft(49)),U.high=U.high.or(C.high.and(long_1.fromNumber(562949953421311)))),U.low=C.low,t&&(U.high=U.high.or(long_1.fromString("9223372036854775808")));var z=Buffer$2.alloc(16);return m=0,z[m++]=255&U.low.low,z[m++]=U.low.low>>8&255,z[m++]=U.low.low>>16&255,z[m++]=U.low.low>>24&255,z[m++]=255&U.low.high,z[m++]=U.low.high>>8&255,z[m++]=U.low.high>>16&255,z[m++]=U.low.high>>24&255,z[m++]=255&U.high.low,z[m++]=U.high.low>>8&255,z[m++]=U.high.low>>16&255,z[m++]=U.high.low>>24&255,z[m++]=255&U.high.high,z[m++]=U.high.high>>8&255,z[m++]=U.high.high>>16&255,z[m++]=U.high.high>>24&255,new Decimal128(z)};var COMBINATION_MASK=31,EXPONENT_MASK=16383,COMBINATION_INFINITY=30,COMBINATION_NAN=31;Decimal128.prototype.toString=function(){for(var e,t,n,r,i,o,s=0,a=new Array(36),u=0;u<a.length;u++)a[u]=0;var l,f,c,_,h,p=0,d=!1,g={parts:new Array(4)},b=[];p=0;var y=this.bytes;r=y[p++]|y[p++]<<8|y[p++]<<16|y[p++]<<24,n=y[p++]|y[p++]<<8|y[p++]<<16|y[p++]<<24,t=y[p++]|y[p++]<<8|y[p++]<<16|y[p++]<<24,e=y[p++]|y[p++]<<8|y[p++]<<16|y[p++]<<24,p=0;var m={low:new long_1(r,n),high:new long_1(t,e)};if(m.high.lessThan(long_1.ZERO)&&b.push("-"),i=e>>26&COMBINATION_MASK,i>>3===3){if(i===COMBINATION_INFINITY)return b.join("")+"Infinity";if(i===COMBINATION_NAN)return"NaN";o=e>>15&EXPONENT_MASK,c=8+(e>>14&1)}else c=e>>14&7,o=e>>17&EXPONENT_MASK;if(l=o-EXPONENT_BIAS,g.parts[0]=(16383&e)+((15&c)<<14),g.parts[1]=t,g.parts[2]=n,g.parts[3]=r,0===g.parts[0]&&0===g.parts[1]&&0===g.parts[2]&&0===g.parts[3])d=!0;else for(h=3;h>=0;h--){var v=0,N=divideu128(g);if(g=N.quotient,v=N.rem.low,v)for(_=8;_>=0;_--)a[9*h+_]=v%10,v=Math.floor(v/10)}if(d)s=1,a[p]=0;else{s=36;while(!a[p])s-=1,p+=1}if(f=s-1+l,f>=34||f<=-7||l>0){if(s>34)return b.push(0),l>0?b.push("E+"+l):l<0&&b.push("E"+l),b.join("");b.push(a[p++]),s-=1,s&&b.push(".");for(var S=0;S<s;S++)b.push(a[p++]);b.push("E"),f>0?b.push("+"+f):b.push(f)}else if(l>=0)for(var B=0;B<s;B++)b.push(a[p++]);else{var E=s+l;if(E>0)for(var O=0;O<E;O++)b.push(a[p++]);else b.push("0");b.push(".");while(E++<0)b.push("0");for(var w=0;w<s-Math.max(E-1,0);w++)b.push(a[p++])}return b.join("")},Decimal128.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},Decimal128.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},Decimal128.fromExtendedJSON=function(e){return Decimal128.fromString(e.$numberDecimal)},Object.defineProperty(Decimal128.prototype,"_bsontype",{value:"Decimal128"});var decimal128=Decimal128;function _classCallCheck$7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$7(e,t,n){return t&&_defineProperties$7(e.prototype,t),n&&_defineProperties$7(e,n),e}var MinKey=function(){function e(){_classCallCheck$7(this,e)}return _createClass$7(e,[{key:"toExtendedJSON",value:function(){return{$minKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new e}}]),e}();Object.defineProperty(MinKey.prototype,"_bsontype",{value:"MinKey"});var min_key=MinKey;function _classCallCheck$8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$8(e,t,n){return t&&_defineProperties$8(e.prototype,t),n&&_defineProperties$8(e,n),e}var MaxKey=function(){function e(){_classCallCheck$8(this,e)}return _createClass$8(e,[{key:"toExtendedJSON",value:function(){return{$maxKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new e}}]),e}();Object.defineProperty(MaxKey.prototype,"_bsontype",{value:"MaxKey"});var max_key=MaxKey;function _classCallCheck$9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$9(e,t,n){return t&&_defineProperties$9(e.prototype,t),n&&_defineProperties$9(e,n),e}var DBRef=function(){function e(t,n,r,i){_classCallCheck$9(this,e);var o=t.split(".");2===o.length&&(r=o.shift(),t=o.shift()),this.collection=t,this.oid=n,this.db=r,this.fields=i||{}}return _createClass$9(e,[{key:"toJSON",value:function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(e.$db=this.db),e}},{key:"toExtendedJSON",value:function(){var e={$ref:this.collection,$id:this.oid};return this.db&&(e.$db=this.db),e=Object.assign(e,this.fields),e}}],[{key:"fromExtendedJSON",value:function(t){var n=Object.assign({},t);return["$ref","$id","$db"].forEach((function(e){return delete n[e]})),new e(t.$ref,t.$id,t.$db,n)}}]),e}();Object.defineProperty(DBRef.prototype,"_bsontype",{value:"DBRef"}),Object.defineProperty(DBRef.prototype,"namespace",{get:function(){return this.collection},set:function(e){this.collection=e},configurable:!1});var db_ref=DBRef;function _classCallCheck$a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$a(e,t,n){return t&&_defineProperties$a(e.prototype,t),n&&_defineProperties$a(e,n),e}var Buffer$3=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,Binary=function(){function e(t,n){if(_classCallCheck$a(this,e),null!=t&&"string"!==typeof t&&!Buffer$3.isBuffer(t)&&!(t instanceof Uint8Array)&&!Array.isArray(t))throw new TypeError("only String, Buffer, Uint8Array or Array accepted");if(this.sub_type=null==n?BSON_BINARY_SUBTYPE_DEFAULT:n,this.position=0,null==t||t instanceof Number)"undefined"!==typeof Buffer$3?this.buffer=Buffer$3.alloc(e.BUFFER_SIZE):"undefined"!==typeof Uint8Array?this.buffer=new Uint8Array(new ArrayBuffer(e.BUFFER_SIZE)):this.buffer=new Array(e.BUFFER_SIZE);else{if("string"===typeof t)if("undefined"!==typeof Buffer$3)this.buffer=Buffer$3.from(t);else{if("undefined"===typeof Uint8Array&&!Array.isArray(t))throw new TypeError("only String, Buffer, Uint8Array or Array accepted");this.buffer=writeStringToArray(t)}else this.buffer=t;this.position=t.length}}return _createClass$a(e,[{key:"put",value:function(t){if(null!=t["length"]&&"number"!==typeof t&&1!==t.length)throw new TypeError("only accepts single character String, Uint8Array or Array");if("number"!==typeof t&&t<0||t>255)throw new TypeError("only accepts number in a valid unsigned byte range 0-255");var n=null;if(n="string"===typeof t?t.charCodeAt(0):null!=t["length"]?t[0]:t,this.buffer.length>this.position)this.buffer[this.position++]=n;else if("undefined"!==typeof Buffer$3&&Buffer$3.isBuffer(this.buffer)){var r=Buffer$3.alloc(e.BUFFER_SIZE+this.buffer.length);this.buffer.copy(r,0,0,this.buffer.length),this.buffer=r,this.buffer[this.position++]=n}else{var i=null;i=isUint8Array(this.buffer)?new Uint8Array(new ArrayBuffer(e.BUFFER_SIZE+this.buffer.length)):new Array(e.BUFFER_SIZE+this.buffer.length);for(var o=0;o<this.buffer.length;o++)i[o]=this.buffer[o];this.buffer=i,this.buffer[this.position++]=n}}},{key:"write",value:function(e,t){if(t="number"===typeof t?t:this.position,this.buffer.length<t+e.length){var n=null;if("undefined"!==typeof Buffer$3&&Buffer$3.isBuffer(this.buffer))n=Buffer$3.alloc(this.buffer.length+e.length),this.buffer.copy(n,0,0,this.buffer.length);else if(isUint8Array(this.buffer)){n=new Uint8Array(new ArrayBuffer(this.buffer.length+e.length));for(var r=0;r<this.position;r++)n[r]=this.buffer[r]}this.buffer=n}if("undefined"!==typeof Buffer$3&&Buffer$3.isBuffer(e)&&Buffer$3.isBuffer(this.buffer))e.copy(this.buffer,t,0,e.length),this.position=t+e.length>this.position?t+e.length:this.position;else if("undefined"!==typeof Buffer$3&&"string"===typeof e&&Buffer$3.isBuffer(this.buffer))this.buffer.write(e,t,"binary"),this.position=t+e.length>this.position?t+e.length:this.position;else if(isUint8Array(e)||Array.isArray(e)&&"string"!==typeof e){for(var i=0;i<e.length;i++)this.buffer[t++]=e[i];this.position=t>this.position?t:this.position}else if("string"===typeof e){for(var o=0;o<e.length;o++)this.buffer[t++]=e.charCodeAt(o);this.position=t>this.position?t:this.position}}},{key:"read",value:function(e,t){if(t=t&&t>0?t:this.position,this.buffer["slice"])return this.buffer.slice(e,e+t);for(var n="undefined"!==typeof Uint8Array?new Uint8Array(new ArrayBuffer(t)):new Array(t),r=0;r<t;r++)n[r]=this.buffer[e++];return n}},{key:"value",value:function(e){if(e=null!=e&&e,e&&"undefined"!==typeof Buffer$3&&Buffer$3.isBuffer(this.buffer)&&this.buffer.length===this.position)return this.buffer;if("undefined"!==typeof Buffer$3&&Buffer$3.isBuffer(this.buffer))return e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position);if(e){if(null!=this.buffer["slice"])return this.buffer.slice(0,this.position);for(var t=isUint8Array(this.buffer)?new Uint8Array(new ArrayBuffer(this.position)):new Array(this.position),n=0;n<this.position;n++)t[n]=this.buffer[n];return t}return convertArraytoUtf8BinaryString(this.buffer,0,this.position)}},{key:"length",value:function(){return this.position}},{key:"toJSON",value:function(){return null!=this.buffer?this.buffer.toString("base64"):""}},{key:"toString",value:function(e){return null!=this.buffer?this.buffer.slice(0,this.position).toString(e):""}},{key:"toExtendedJSON",value:function(){var e=Buffer$3.isBuffer(this.buffer)?this.buffer.toString("base64"):Buffer$3.from(this.buffer).toString("base64"),t=Number(this.sub_type).toString(16);return{$binary:{base64:e,subType:1===t.length?"0"+t:t}}}}],[{key:"fromExtendedJSON",value:function(t){var n=t.$binary.subType?parseInt(t.$binary.subType,16):0,r=Buffer$3.from(t.$binary.base64,"base64");return new e(r,n)}}]),e}(),BSON_BINARY_SUBTYPE_DEFAULT=0;function isUint8Array(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)}function writeStringToArray(e){for(var t="undefined"!==typeof Uint8Array?new Uint8Array(new ArrayBuffer(e.length)):new Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function convertArraytoUtf8BinaryString(e,t,n){for(var r="",i=t;i<n;i++)r+=String.fromCharCode(e[i]);return r}Binary.BUFFER_SIZE=256,Binary.SUBTYPE_DEFAULT=0,Binary.SUBTYPE_FUNCTION=1,Binary.SUBTYPE_BYTE_ARRAY=2,Binary.SUBTYPE_UUID_OLD=3,Binary.SUBTYPE_UUID=4,Binary.SUBTYPE_MD5=5,Binary.SUBTYPE_USER_DEFINED=128,Object.defineProperty(Binary.prototype,"_bsontype",{value:"Binary"});var binary=Binary,constants={BSON_INT32_MAX:2147483647,BSON_INT32_MIN:-2147483648,BSON_INT64_MAX:Math.pow(2,63)-1,BSON_INT64_MIN:-Math.pow(2,63),JS_INT_MAX:9007199254740992,JS_INT_MIN:-9007199254740992,BSON_DATA_NUMBER:1,BSON_DATA_STRING:2,BSON_DATA_OBJECT:3,BSON_DATA_ARRAY:4,BSON_DATA_BINARY:5,BSON_DATA_UNDEFINED:6,BSON_DATA_OID:7,BSON_DATA_BOOLEAN:8,BSON_DATA_DATE:9,BSON_DATA_NULL:10,BSON_DATA_REGEXP:11,BSON_DATA_DBPOINTER:12,BSON_DATA_CODE:13,BSON_DATA_SYMBOL:14,BSON_DATA_CODE_W_SCOPE:15,BSON_DATA_INT:16,BSON_DATA_TIMESTAMP:17,BSON_DATA_LONG:18,BSON_DATA_DECIMAL128:19,BSON_DATA_MIN_KEY:255,BSON_DATA_MAX_KEY:127,BSON_BINARY_SUBTYPE_DEFAULT:0,BSON_BINARY_SUBTYPE_FUNCTION:1,BSON_BINARY_SUBTYPE_BYTE_ARRAY:2,BSON_BINARY_SUBTYPE_UUID:3,BSON_BINARY_SUBTYPE_MD5:4,BSON_BINARY_SUBTYPE_USER_DEFINED:128};function _typeof$2(e){return _typeof$2="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(e)}var keysToCodecs={$oid:objectid,$binary:binary,$symbol:symbol,$numberInt:int_32,$numberDecimal:decimal128,$numberDouble:double_1,$numberLong:long_1,$minKey:min_key,$maxKey:max_key,$regularExpression:regexp,$timestamp:timestamp};function deserializeValue(e,t,n,r){if("number"===typeof n){if(r.relaxed)return n;if(Math.floor(n)===n){if(n>=BSON_INT32_MIN&&n<=BSON_INT32_MAX)return new int_32(n);if(n>=BSON_INT64_MIN&&n<=BSON_INT64_MAX)return new long_1.fromNumber(n)}return new double_1(n)}if(null==n||"object"!==_typeof$2(n))return n;if(n.$undefined)return null;for(var i=Object.keys(n).filter((function(e){return e.startsWith("$")&&null!=n[e]})),o=0;o<i.length;o++){var s=keysToCodecs[i[o]];if(s)return s.fromExtendedJSON(n,r)}if(null!=n.$date){var a=n.$date,u=new Date;return"string"===typeof a?u.setTime(Date.parse(a)):long_1.isLong(a)?u.setTime(a.toNumber()):"number"===typeof a&&r.relaxed&&u.setTime(a),u}if(null!=n.$code){var l=Object.assign({},n);return n.$scope&&(l.$scope=deserializeValue(e,null,n.$scope)),code.fromExtendedJSON(n)}if(null!=n.$ref||null!=n.$dbPointer){var f=n.$ref?n:n.$dbPointer;if(f instanceof db_ref)return f;var c=Object.keys(f).filter((function(e){return e.startsWith("$")})),_=!0;if(c.forEach((function(e){-1===["$ref","$id","$db"].indexOf(e)&&(_=!1)})),_)return db_ref.fromExtendedJSON(f)}return n}function parse(e,t){var n=this;return t=Object.assign({},{relaxed:!0},t),"boolean"===typeof t.relaxed&&(t.strict=!t.relaxed),"boolean"===typeof t.strict&&(t.relaxed=!t.strict),JSON.parse(e,(function(e,r){return deserializeValue(n,e,r,t)}))}var BSON_INT32_MAX=2147483647,BSON_INT32_MIN=-2147483648,BSON_INT64_MAX=0x8000000000000000,BSON_INT64_MIN=-0x8000000000000000;function stringify(e,t,n,r){null!=n&&"object"===_typeof$2(n)&&(r=n,n=0),null==t||"object"!==_typeof$2(t)||Array.isArray(t)||(r=t,t=null,n=0),r=Object.assign({},{relaxed:!0},r);var i=Array.isArray(e)?serializeArray(e,r):serializeDocument(e,r);return JSON.stringify(i,t,n)}function serialize(e,t){return t=t||{},JSON.parse(stringify(e,t))}function deserialize(e,t){return t=t||{},parse(JSON.stringify(e),t)}function serializeArray(e,t){return e.map((function(e){return serializeValue(e,t)}))}function getISOString(e){var t=e.toISOString();return 0!==e.getUTCMilliseconds()?t:t.slice(0,-5)+"Z"}function serializeValue(e,t){if(Array.isArray(e))return serializeArray(e,t);if(void 0===e)return null;if(e instanceof Date){var n=e.getTime(),r=n>-1&&n<2534023188e5;return t.relaxed&&r?{$date:getISOString(e)}:{$date:{$numberLong:e.getTime().toString()}}}if("number"===typeof e&&!t.relaxed){if(Math.floor(e)===e){var i=e>=BSON_INT32_MIN&&e<=BSON_INT32_MAX,o=e>=BSON_INT64_MIN&&e<=BSON_INT64_MAX;if(i)return{$numberInt:e.toString()};if(o)return{$numberLong:e.toString()}}return{$numberDouble:e.toString()}}if(e instanceof RegExp){var s=e.flags;void 0===s&&(s=e.toString().match(/[gimuy]*$/)[0]);var a=new regexp(e.source,s);return a.toExtendedJSON()}return null!=e&&"object"===_typeof$2(e)?serializeDocument(e,t):e}var BSON_TYPE_MAPPINGS={Binary:function(e){return new binary(e.value(),e.subtype)},Code:function(e){return new code(e.code,e.scope)},DBRef:function(e){return new db_ref(e.collection||e.namespace,e.oid,e.db,e.fields)},Decimal128:function(e){return new decimal128(e.bytes)},Double:function(e){return new double_1(e.value)},Int32:function(e){return new int_32(e.value)},Long:function(e){return long_1.fromBits(null!=e.low?e.low:e.low_,null!=e.low?e.high:e.high_,null!=e.low?e.unsigned:e.unsigned_)},MaxKey:function(){return new max_key},MinKey:function(){return new min_key},ObjectID:function(e){return new objectid(e)},ObjectId:function(e){return new objectid(e)},BSONRegExp:function(e){return new regexp(e.pattern,e.options)},Symbol:function(e){return new symbol(e.value)},Timestamp:function(e){return timestamp.fromBits(e.low,e.high)}};function serializeDocument(e,t){if(null==e||"object"!==_typeof$2(e))throw new Error("not an object instance");var n=e._bsontype;if("undefined"===typeof n){var r={};for(var i in e)r[i]=serializeValue(e[i],t);return r}if("string"===typeof n){var o=e;if("function"!==typeof o.toExtendedJSON){var s=BSON_TYPE_MAPPINGS[n];if(!s)throw new TypeError("Unrecognized or invalid _bsontype: "+n);o=s(o)}return"Code"===n&&o.scope?o=new code(o.code,serializeValue(o.scope,t)):"DBRef"===n&&o.oid&&(o=new db_ref(o.collection,serializeValue(o.oid,t),o.db,o.fields)),o.toExtendedJSON(t)}throw new Error("_bsontype must be a string, but was: "+_typeof$2(n))}var extended_json={parse:parse,deserialize:deserialize,serialize:serialize,stringify:stringify},FIRST_BIT=128,FIRST_TWO_BITS=192,FIRST_THREE_BITS=224,FIRST_FOUR_BITS=240,FIRST_FIVE_BITS=248,TWO_BIT_CHAR=192,THREE_BIT_CHAR=224,FOUR_BIT_CHAR=240,CONTINUING_CHAR=128;function validateUtf8(e,t,n){for(var r=0,i=t;i<n;i+=1){var o=e[i];if(r){if((o&FIRST_TWO_BITS)!==CONTINUING_CHAR)return!1;r-=1}else if(o&FIRST_BIT)if((o&FIRST_THREE_BITS)===TWO_BIT_CHAR)r=1;else if((o&FIRST_FOUR_BITS)===THREE_BIT_CHAR)r=2;else{if((o&FIRST_FIVE_BITS)!==FOUR_BIT_CHAR)return!1;r=3}}return!r}var validateUtf8_1=validateUtf8,validate_utf8={validateUtf8:validateUtf8_1},Buffer$4=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,validateUtf8$1=validate_utf8.validateUtf8,JS_INT_MAX_LONG=long_1.fromNumber(constants.JS_INT_MAX),JS_INT_MIN_LONG=long_1.fromNumber(constants.JS_INT_MIN),functionCache={};function deserialize$1(e,t,n){t=null==t?{}:t;var r=t&&t.index?t.index:0,i=e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24;if(i<5)throw new Error("bson size must be >= 5, is ".concat(i));if(t.allowObjectSmallerThanBufferSize&&e.length<i)throw new Error("buffer length ".concat(e.length," must be >= bson size ").concat(i));if(!t.allowObjectSmallerThanBufferSize&&e.length!==i)throw new Error("buffer length ".concat(e.length," must === bson size ").concat(i));if(i+r>e.length)throw new Error("(bson size ".concat(i," + options.index ").concat(r," must be <= buffer length ").concat(Buffer$4.byteLength(e),")"));if(0!==e[r+i-1])throw new Error("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return deserializeObject(e,r,t,n)}function deserializeObject(e,t,n,r){var i=null!=n["evalFunctions"]&&n["evalFunctions"],o=null!=n["cacheFunctions"]&&n["cacheFunctions"],s=null!=n["cacheFunctionsCrc32"]&&n["cacheFunctionsCrc32"];if(!s)var a=null;var u=null==n["fieldsAsRaw"]?null:n["fieldsAsRaw"],l=null!=n["raw"]&&n["raw"],f="boolean"===typeof n["bsonRegExp"]&&n["bsonRegExp"],c=null!=n["promoteBuffers"]&&n["promoteBuffers"],_=null==n["promoteLongs"]||n["promoteLongs"],h=null==n["promoteValues"]||n["promoteValues"],p=t;if(e.length<5)throw new Error("corrupt bson message < 5 bytes long");var d=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(d<5||d>e.length)throw new Error("corrupt bson message");var g=r?[]:{},b=0,y=!1;while(!y){var m=e[t++];if(0===m)break;var v=t;while(0!==e[v]&&v<e.length)v++;if(v>=Buffer$4.byteLength(e))throw new Error("Bad BSON Document: illegal CString");var N=r?b++:e.toString("utf8",t,v);if(t=v+1,m===constants.BSON_DATA_STRING){var S=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(S<=0||S>e.length-t||0!==e[t+S-1])throw new Error("bad string length in bson");if(!validateUtf8$1(e,t,t+S-1))throw new Error("Invalid UTF-8 string in BSON document");var B=e.toString("utf8",t,t+S-1);g[N]=B,t+=S}else if(m===constants.BSON_DATA_OID){var E=Buffer$4.alloc(12);e.copy(E,0,t,t+12),g[N]=new objectid(E),t+=12}else if(m===constants.BSON_DATA_INT&&!1===h)g[N]=new int_32(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24);else if(m===constants.BSON_DATA_INT)g[N]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;else if(m===constants.BSON_DATA_NUMBER&&!1===h)g[N]=new double_1(e.readDoubleLE(t)),t+=8;else if(m===constants.BSON_DATA_NUMBER)g[N]=e.readDoubleLE(t),t+=8;else if(m===constants.BSON_DATA_DATE){var O=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,w=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;g[N]=new Date(new long_1(O,w).toNumber())}else if(m===constants.BSON_DATA_BOOLEAN){if(0!==e[t]&&1!==e[t])throw new Error("illegal boolean type value");g[N]=1===e[t++]}else if(m===constants.BSON_DATA_OBJECT){var A=t,T=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;if(T<=0||T>e.length-t)throw new Error("bad embedded document length in bson");g[N]=l?e.slice(t,t+T):deserializeObject(e,A,n,!1),t+=T}else if(m===constants.BSON_DATA_ARRAY){var I=t,D=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,$=n,x=t+D;if(u&&u[N]){for(var R in $={},n)$[R]=n[R];$["raw"]=!0}if(g[N]=deserializeObject(e,I,$,!0),t+=D,0!==e[t-1])throw new Error("invalid array terminator byte");if(t!==x)throw new Error("corrupted array bson")}else if(m===constants.BSON_DATA_UNDEFINED)g[N]=void 0;else if(m===constants.BSON_DATA_NULL)g[N]=null;else if(m===constants.BSON_DATA_LONG){var M=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,P=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,C=new long_1(M,P);g[N]=_&&!0===h&&C.lessThanOrEqual(JS_INT_MAX_LONG)&&C.greaterThanOrEqual(JS_INT_MIN_LONG)?C.toNumber():C}else if(m===constants.BSON_DATA_DECIMAL128){var U=Buffer$4.alloc(16);e.copy(U,0,t,t+16),t+=16;var z=new decimal128(U);g[N]=z.toObject?z.toObject():z}else if(m===constants.BSON_DATA_BINARY){var j=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,k=j,L=e[t++];if(j<0)throw new Error("Negative binary type element size found");if(j>Buffer$4.byteLength(e))throw new Error("Binary type size larger than document size");if(null!=e["slice"]){if(L===binary.SUBTYPE_BYTE_ARRAY){if(j=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,j<0)throw new Error("Negative binary type element size found for subtype 0x02");if(j>k-4)throw new Error("Binary type with subtype 0x02 contains to long binary size");if(j<k-4)throw new Error("Binary type with subtype 0x02 contains to short binary size")}g[N]=c&&h?e.slice(t,t+j):new binary(e.slice(t,t+j),L)}else{var F="undefined"!==typeof Uint8Array?new Uint8Array(new ArrayBuffer(j)):new Array(j);if(L===binary.SUBTYPE_BYTE_ARRAY){if(j=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,j<0)throw new Error("Negative binary type element size found for subtype 0x02");if(j>k-4)throw new Error("Binary type with subtype 0x02 contains to long binary size");if(j<k-4)throw new Error("Binary type with subtype 0x02 contains to short binary size")}for(v=0;v<j;v++)F[v]=e[t+v];g[N]=c&&h?F:new binary(F,L)}t+=j}else if(m===constants.BSON_DATA_REGEXP&&!1===f){v=t;while(0!==e[v]&&v<e.length)v++;if(v>=e.length)throw new Error("Bad BSON Document: illegal CString");var Y=e.toString("utf8",t,v);t=v+1,v=t;while(0!==e[v]&&v<e.length)v++;if(v>=e.length)throw new Error("Bad BSON Document: illegal CString");var J=e.toString("utf8",t,v);t=v+1;var q=new Array(J.length);for(v=0;v<J.length;v++)switch(J[v]){case"m":q[v]="m";break;case"s":q[v]="g";break;case"i":q[v]="i";break}g[N]=new RegExp(Y,q.join(""))}else if(m===constants.BSON_DATA_REGEXP&&!0===f){v=t;while(0!==e[v]&&v<e.length)v++;if(v>=e.length)throw new Error("Bad BSON Document: illegal CString");var X=e.toString("utf8",t,v);t=v+1,v=t;while(0!==e[v]&&v<e.length)v++;if(v>=e.length)throw new Error("Bad BSON Document: illegal CString");var K=e.toString("utf8",t,v);t=v+1,g[N]=new regexp(X,K)}else if(m===constants.BSON_DATA_SYMBOL){var G=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(G<=0||G>e.length-t||0!==e[t+G-1])throw new Error("bad string length in bson");g[N]=e.toString("utf8",t,t+G-1),t+=G}else if(m===constants.BSON_DATA_TIMESTAMP){var H=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,W=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;g[N]=new timestamp(H,W)}else if(m===constants.BSON_DATA_MIN_KEY)g[N]=new min_key;else if(m===constants.BSON_DATA_MAX_KEY)g[N]=new max_key;else if(m===constants.BSON_DATA_CODE){var V=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(V<=0||V>e.length-t||0!==e[t+V-1])throw new Error("bad string length in bson");var Z=e.toString("utf8",t,t+V-1);if(i)if(o){var Q=s?a(Z):Z;g[N]=isolateEvalWithHash(functionCache,Q,Z,g)}else g[N]=isolateEval(Z);else g[N]=new code(Z);t+=V}else if(m===constants.BSON_DATA_CODE_W_SCOPE){var ee=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(ee<13)throw new Error("code_w_scope total size shorter minimum expected length");var te=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(te<=0||te>e.length-t||0!==e[t+te-1])throw new Error("bad string length in bson");var ne=e.toString("utf8",t,t+te-1);t+=te;var re=t,ie=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,oe=deserializeObject(e,re,n,!1);if(t+=ie,ee<8+ie+te)throw new Error("code_w_scope total size is to short, truncating scope");if(ee>8+ie+te)throw new Error("code_w_scope total size is to long, clips outer document");if(i){if(o){var se=s?a(ne):ne;g[N]=isolateEvalWithHash(functionCache,se,ne,g)}else g[N]=isolateEval(ne);g[N].scope=oe}else g[N]=new code(ne,oe)}else{if(m!==constants.BSON_DATA_DBPOINTER)throw new Error("Detected unknown BSON type "+m.toString(16)+' for fieldname "'+N+'", are you using the latest BSON parser?');var ae=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(ae<=0||ae>e.length-t||0!==e[t+ae-1])throw new Error("bad string length in bson");if(!validateUtf8$1(e,t,t+ae-1))throw new Error("Invalid UTF-8 string in BSON document");var ue=e.toString("utf8",t,t+ae-1);t+=ae;var le=Buffer$4.alloc(12);e.copy(le,0,t,t+12);var fe=new objectid(le);t+=12,g[N]=new db_ref(ue,fe)}}if(d!==t-p){if(r)throw new Error("corrupt array bson");throw new Error("corrupt object bson")}var ce=Object.keys(g).filter((function(e){return e.startsWith("$")})),_e=!0;if(ce.forEach((function(e){-1===["$ref","$id","$db"].indexOf(e)&&(_e=!1)})),!_e)return g;if(null!=g["$id"]&&null!=g["$ref"]){var he=Object.assign({},g);return delete he.$ref,delete he.$id,delete he.$db,new db_ref(g.$ref,g.$id,g.$db||null,he)}return g}function isolateEvalWithHash(functionCache,hash,functionString,object){var value=null;return null==functionCache[hash]&&(eval("value = "+functionString),functionCache[hash]=value),functionCache[hash].bind(object)}function isolateEval(functionString){var value=null;return eval("value = "+functionString),value}var deserializer=deserialize$1;function readIEEE754(e,t,n,r,i){var o,s,a="big"===n,u=8*i-r-1,l=(1<<u)-1,f=l>>1,c=-7,_=a?0:i-1,h=a?1:-1,p=e[t+_];for(_+=h,o=p&(1<<-c)-1,p>>=-c,c+=u;c>0;o=256*o+e[t+_],_+=h,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+e[t+_],_+=h,c-=8);if(0===o)o=1-f;else{if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=f}return(p?-1:1)*s*Math.pow(2,o-r)}function writeIEEE754(e,t,n,r,i,o){var s,a,u,l="big"===r,f=8*o-i-1,c=(1<<f)-1,_=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=l?o-1:0,d=l?-1:1,g=t<0||0===t&&1/t<0?1:0;t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),t+=s+_>=1?h/u:h*Math.pow(2,1-_),t*u>=2&&(s++,u/=2),s+_>=c?(a=0,s=c):s+_>=1?(a=(t*u-1)*Math.pow(2,i),s+=_):(a=t*Math.pow(2,_-1)*Math.pow(2,i),s=0)),isNaN(t)&&(a=0);while(i>=8)e[n+p]=255&a,p+=d,a/=256,i-=8;s=s<<i|a,isNaN(t)&&(s+=8),f+=i;while(f>0)e[n+p]=255&s,p+=d,s/=256,f-=8;e[n+p-d]|=128*g}var float_parser={readIEEE754:readIEEE754,writeIEEE754:writeIEEE754};function _typeof$3(e){return _typeof$3="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3(e)}var Buffer$5=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,writeIEEE754$1=float_parser.writeIEEE754,normalizedFunctionString$1=utils.normalizedFunctionString,regexp$1=/\x00/,ignoreKeys=new Set(["$db","$ref","$id","$clusterTime"]),isDate$1=function(e){return"object"===_typeof$3(e)&&"[object Date]"===Object.prototype.toString.call(e)},isRegExp$1=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)};function serializeString(e,t,n,r,i){e[r++]=constants.BSON_DATA_STRING;var o=i?e.write(t,r,"ascii"):e.write(t,r,"utf8");r=r+o+1,e[r-1]=0;var s=e.write(n,r+4,"utf8");return e[r+3]=s+1>>24&255,e[r+2]=s+1>>16&255,e[r+1]=s+1>>8&255,e[r]=s+1&255,r=r+4+s,e[r++]=0,r}function serializeNumber(e,t,n,r,i){if(Math.floor(n)===n&&n>=constants.JS_INT_MIN&&n<=constants.JS_INT_MAX)if(n>=constants.BSON_INT32_MIN&&n<=constants.BSON_INT32_MAX){e[r++]=constants.BSON_DATA_INT;var o=i?e.write(t,r,"ascii"):e.write(t,r,"utf8");r+=o,e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255}else if(n>=constants.JS_INT_MIN&&n<=constants.JS_INT_MAX){e[r++]=constants.BSON_DATA_NUMBER;var s=i?e.write(t,r,"ascii"):e.write(t,r,"utf8");r+=s,e[r++]=0,writeIEEE754$1(e,n,r,"little",52,8),r+=8}else{e[r++]=constants.BSON_DATA_LONG;var a=i?e.write(t,r,"ascii"):e.write(t,r,"utf8");r+=a,e[r++]=0;var u=long_1.fromNumber(n),l=u.getLowBits(),f=u.getHighBits();e[r++]=255&l,e[r++]=l>>8&255,e[r++]=l>>16&255,e[r++]=l>>24&255,e[r++]=255&f,e[r++]=f>>8&255,e[r++]=f>>16&255,e[r++]=f>>24&255}else{e[r++]=constants.BSON_DATA_NUMBER;var c=i?e.write(t,r,"ascii"):e.write(t,r,"utf8");r+=c,e[r++]=0,writeIEEE754$1(e,n,r,"little",52,8),r+=8}return r}function serializeNull(e,t,n,r,i){e[r++]=constants.BSON_DATA_NULL;var o=i?e.write(t,r,"ascii"):e.write(t,r,"utf8");return r+=o,e[r++]=0,r}function serializeBoolean(e,t,n,r,i){e[r++]=constants.BSON_DATA_BOOLEAN;var o=i?e.write(t,r,"ascii"):e.write(t,r,"utf8");return r+=o,e[r++]=0,e[r++]=n?1:0,r}function serializeDate(e,t,n,r,i){e[r++]=constants.BSON_DATA_DATE;var o=i?e.write(t,r,"ascii"):e.write(t,r,"utf8");r+=o,e[r++]=0;var s=long_1.fromNumber(n.getTime()),a=s.getLowBits(),u=s.getHighBits();return e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,e[r++]=255&u,e[r++]=u>>8&255,e[r++]=u>>16&255,e[r++]=u>>24&255,r}function serializeRegExp(e,t,n,r,i){e[r++]=constants.BSON_DATA_REGEXP;var o=i?e.write(t,r,"ascii"):e.write(t,r,"utf8");if(r+=o,e[r++]=0,n.source&&null!=n.source.match(regexp$1))throw Error("value "+n.source+" must not contain null bytes");return r+=e.write(n.source,r,"utf8"),e[r++]=0,n.ignoreCase&&(e[r++]=105),n.global&&(e[r++]=115),n.multiline&&(e[r++]=109),e[r++]=0,r}function serializeBSONRegExp(e,t,n,r,i){e[r++]=constants.BSON_DATA_REGEXP;var o=i?e.write(t,r,"ascii"):e.write(t,r,"utf8");if(r+=o,e[r++]=0,null!=n.pattern.match(regexp$1))throw Error("pattern "+n.pattern+" must not contain null bytes");return r+=e.write(n.pattern,r,"utf8"),e[r++]=0,r+=e.write(n.options.split("").sort().join(""),r,"utf8"),e[r++]=0,r}function serializeMinMax(e,t,n,r,i){null===n?e[r++]=constants.BSON_DATA_NULL:"MinKey"===n._bsontype?e[r++]=constants.BSON_DATA_MIN_KEY:e[r++]=constants.BSON_DATA_MAX_KEY;var o=i?e.write(t,r,"ascii"):e.write(t,r,"utf8");return r+=o,e[r++]=0,r}function serializeObjectId(e,t,n,r,i){e[r++]=constants.BSON_DATA_OID;var o=i?e.write(t,r,"ascii"):e.write(t,r,"utf8");if(r+=o,e[r++]=0,"string"===typeof n.id)e.write(n.id,r,"binary");else{if(!n.id||!n.id.copy)throw new TypeError("object ["+JSON.stringify(n)+"] is not a valid ObjectId");n.id.copy(e,r,0,12)}return r+12}function serializeBuffer(e,t,n,r,i){e[r++]=constants.BSON_DATA_BINARY;var o=i?e.write(t,r,"ascii"):e.write(t,r,"utf8");r+=o,e[r++]=0;var s=n.length;return e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,e[r++]=constants.BSON_BINARY_SUBTYPE_DEFAULT,n.copy(e,r,0,s),r+=s,r}function serializeObject(e,t,n,r,i,o,s,a,u,l){for(var f=0;f<l.length;f++)if(l[f]===n)throw new Error("cyclic dependency detected");l.push(n),e[r++]=Array.isArray(n)?constants.BSON_DATA_ARRAY:constants.BSON_DATA_OBJECT;var c=u?e.write(t,r,"ascii"):e.write(t,r,"utf8");r+=c,e[r++]=0;var _=serializeInto(e,n,i,r,o+1,s,a,l);return l.pop(),_}function serializeDecimal128(e,t,n,r,i){e[r++]=constants.BSON_DATA_DECIMAL128;var o=i?e.write(t,r,"ascii"):e.write(t,r,"utf8");return r+=o,e[r++]=0,n.bytes.copy(e,r,0,16),r+16}function serializeLong(e,t,n,r,i){e[r++]="Long"===n._bsontype?constants.BSON_DATA_LONG:constants.BSON_DATA_TIMESTAMP;var o=i?e.write(t,r,"ascii"):e.write(t,r,"utf8");r+=o,e[r++]=0;var s=n.getLowBits(),a=n.getHighBits();return e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,r}function serializeInt32(e,t,n,r,i){e[r++]=constants.BSON_DATA_INT;var o=i?e.write(t,r,"ascii"):e.write(t,r,"utf8");return r+=o,e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255,r}function serializeDouble(e,t,n,r,i){e[r++]=constants.BSON_DATA_NUMBER;var o=i?e.write(t,r,"ascii"):e.write(t,r,"utf8");return r+=o,e[r++]=0,writeIEEE754$1(e,n.value,r,"little",52,8),r+=8,r}function serializeFunction(e,t,n,r,i,o,s){e[r++]=constants.BSON_DATA_CODE;var a=s?e.write(t,r,"ascii"):e.write(t,r,"utf8");r+=a,e[r++]=0;var u=normalizedFunctionString$1(n),l=e.write(u,r+4,"utf8")+1;return e[r]=255&l,e[r+1]=l>>8&255,e[r+2]=l>>16&255,e[r+3]=l>>24&255,r=r+4+l-1,e[r++]=0,r}function serializeCode(e,t,n,r,i,o,s,a,u){if(n.scope&&"object"===_typeof$3(n.scope)){e[r++]=constants.BSON_DATA_CODE_W_SCOPE;var l=u?e.write(t,r,"ascii"):e.write(t,r,"utf8");r+=l,e[r++]=0;var f=r,c="string"===typeof n.code?n.code:n.code.toString();r+=4;var _=e.write(c,r+4,"utf8")+1;e[r]=255&_,e[r+1]=_>>8&255,e[r+2]=_>>16&255,e[r+3]=_>>24&255,e[r+4+_-1]=0,r=r+_+4;var h=serializeInto(e,n.scope,i,r,o+1,s,a);r=h-1;var p=h-f;e[f++]=255&p,e[f++]=p>>8&255,e[f++]=p>>16&255,e[f++]=p>>24&255,e[r++]=0}else{e[r++]=constants.BSON_DATA_CODE;var d=u?e.write(t,r,"ascii"):e.write(t,r,"utf8");r+=d,e[r++]=0;var g=n.code.toString(),b=e.write(g,r+4,"utf8")+1;e[r]=255&b,e[r+1]=b>>8&255,e[r+2]=b>>16&255,e[r+3]=b>>24&255,r=r+4+b-1,e[r++]=0}return r}function serializeBinary(e,t,n,r,i){e[r++]=constants.BSON_DATA_BINARY;var o=i?e.write(t,r,"ascii"):e.write(t,r,"utf8");r+=o,e[r++]=0;var s=n.value(!0),a=n.position;return n.sub_type===binary.SUBTYPE_BYTE_ARRAY&&(a+=4),e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,e[r++]=n.sub_type,n.sub_type===binary.SUBTYPE_BYTE_ARRAY&&(a-=4,e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255),s.copy(e,r,0,n.position),r+=n.position,r}function serializeSymbol(e,t,n,r,i){e[r++]=constants.BSON_DATA_SYMBOL;var o=i?e.write(t,r,"ascii"):e.write(t,r,"utf8");r+=o,e[r++]=0;var s=e.write(n.value,r+4,"utf8")+1;return e[r]=255&s,e[r+1]=s>>8&255,e[r+2]=s>>16&255,e[r+3]=s>>24&255,r=r+4+s-1,e[r++]=0,r}function serializeDBRef(e,t,n,r,i,o,s){e[r++]=constants.BSON_DATA_OBJECT;var a=s?e.write(t,r,"ascii"):e.write(t,r,"utf8");r+=a,e[r++]=0;var u,l=r,f={$ref:n.collection||n.namespace,$id:n.oid};null!=n.db&&(f.$db=n.db),f=Object.assign(f,n.fields),u=serializeInto(e,f,!1,r,i+1,o);var c=u-l;return e[l++]=255&c,e[l++]=c>>8&255,e[l++]=c>>16&255,e[l++]=c>>24&255,u}function serializeInto(e,t,n,r,i,o,s,a){r=r||0,a=a||[],a.push(t);var u=r+4;if(Array.isArray(t))for(var l=0;l<t.length;l++){var f=""+l,c=t[l];if(c&&c.toBSON){if("function"!==typeof c.toBSON)throw new TypeError("toBSON is not a function");c=c.toBSON()}var _=_typeof$3(c);if("string"===_)u=serializeString(e,f,c,u,!0);else if("number"===_)u=serializeNumber(e,f,c,u,!0);else if("boolean"===_)u=serializeBoolean(e,f,c,u,!0);else if(c instanceof Date||isDate$1(c))u=serializeDate(e,f,c,u,!0);else if(void 0===c)u=serializeNull(e,f,c,u,!0);else if(null===c)u=serializeNull(e,f,c,u,!0);else if("ObjectId"===c["_bsontype"]||"ObjectID"===c["_bsontype"])u=serializeObjectId(e,f,c,u,!0);else if(Buffer$5.isBuffer(c))u=serializeBuffer(e,f,c,u,!0);else if(c instanceof RegExp||isRegExp$1(c))u=serializeRegExp(e,f,c,u,!0);else if("object"===_&&null==c["_bsontype"])u=serializeObject(e,f,c,u,n,i,o,s,!0,a);else if("object"===_&&"Decimal128"===c["_bsontype"])u=serializeDecimal128(e,f,c,u,!0);else if("Long"===c["_bsontype"]||"Timestamp"===c["_bsontype"])u=serializeLong(e,f,c,u,!0);else if("Double"===c["_bsontype"])u=serializeDouble(e,f,c,u,!0);else if("function"===typeof c&&o)u=serializeFunction(e,f,c,u,n,i,o,!0);else if("Code"===c["_bsontype"])u=serializeCode(e,f,c,u,n,i,o,s,!0);else if("Binary"===c["_bsontype"])u=serializeBinary(e,f,c,u,!0);else if("Symbol"===c["_bsontype"])u=serializeSymbol(e,f,c,u,!0);else if("DBRef"===c["_bsontype"])u=serializeDBRef(e,f,c,u,i,o,!0);else if("BSONRegExp"===c["_bsontype"])u=serializeBSONRegExp(e,f,c,u,!0);else if("Int32"===c["_bsontype"])u=serializeInt32(e,f,c,u,!0);else if("MinKey"===c["_bsontype"]||"MaxKey"===c["_bsontype"])u=serializeMinMax(e,f,c,u,!0);else if("undefined"!==typeof c["_bsontype"])throw new TypeError("Unrecognized or invalid _bsontype: "+c["_bsontype"])}else if(t instanceof map){var h=t.entries(),p=!1;while(!p){var d=h.next();if(p=d.done,!p){var g=d.value[0],b=d.value[1],y=_typeof$3(b);if("string"===typeof g&&!ignoreKeys.has(g)){if(null!=g.match(regexp$1))throw Error("key "+g+" must not contain null bytes");if(n){if("$"===g[0])throw Error("key "+g+" must not start with '$'");if(~g.indexOf("."))throw Error("key "+g+" must not contain '.'")}}if("string"===y)u=serializeString(e,g,b,u);else if("number"===y)u=serializeNumber(e,g,b,u);else if("boolean"===y)u=serializeBoolean(e,g,b,u);else if(b instanceof Date||isDate$1(b))u=serializeDate(e,g,b,u);else if(null===b||void 0===b&&!1===s)u=serializeNull(e,g,b,u);else if("ObjectId"===b["_bsontype"]||"ObjectID"===b["_bsontype"])u=serializeObjectId(e,g,b,u);else if(Buffer$5.isBuffer(b))u=serializeBuffer(e,g,b,u);else if(b instanceof RegExp||isRegExp$1(b))u=serializeRegExp(e,g,b,u);else if("object"===y&&null==b["_bsontype"])u=serializeObject(e,g,b,u,n,i,o,s,!1,a);else if("object"===y&&"Decimal128"===b["_bsontype"])u=serializeDecimal128(e,g,b,u);else if("Long"===b["_bsontype"]||"Timestamp"===b["_bsontype"])u=serializeLong(e,g,b,u);else if("Double"===b["_bsontype"])u=serializeDouble(e,g,b,u);else if("Code"===b["_bsontype"])u=serializeCode(e,g,b,u,n,i,o,s);else if("function"===typeof b&&o)u=serializeFunction(e,g,b,u,n,i,o);else if("Binary"===b["_bsontype"])u=serializeBinary(e,g,b,u);else if("Symbol"===b["_bsontype"])u=serializeSymbol(e,g,b,u);else if("DBRef"===b["_bsontype"])u=serializeDBRef(e,g,b,u,i,o);else if("BSONRegExp"===b["_bsontype"])u=serializeBSONRegExp(e,g,b,u);else if("Int32"===b["_bsontype"])u=serializeInt32(e,g,b,u);else if("MinKey"===b["_bsontype"]||"MaxKey"===b["_bsontype"])u=serializeMinMax(e,g,b,u);else if("undefined"!==typeof b["_bsontype"])throw new TypeError("Unrecognized or invalid _bsontype: "+b["_bsontype"])}}}else{if(t.toBSON){if("function"!==typeof t.toBSON)throw new TypeError("toBSON is not a function");if(t=t.toBSON(),null!=t&&"object"!==_typeof$3(t))throw new TypeError("toBSON function did not return an object")}for(var m in t){var v=t[m];if(v&&v.toBSON){if("function"!==typeof v.toBSON)throw new TypeError("toBSON is not a function");v=v.toBSON()}var N=_typeof$3(v);if("string"===typeof m&&!ignoreKeys.has(m)){if(null!=m.match(regexp$1))throw Error("key "+m+" must not contain null bytes");if(n){if("$"===m[0])throw Error("key "+m+" must not start with '$'");if(~m.indexOf("."))throw Error("key "+m+" must not contain '.'")}}if("string"===N)u=serializeString(e,m,v,u);else if("number"===N)u=serializeNumber(e,m,v,u);else if("boolean"===N)u=serializeBoolean(e,m,v,u);else if(v instanceof Date||isDate$1(v))u=serializeDate(e,m,v,u);else if(void 0===v)!1===s&&(u=serializeNull(e,m,v,u));else if(null===v)u=serializeNull(e,m,v,u);else if("ObjectId"===v["_bsontype"]||"ObjectID"===v["_bsontype"])u=serializeObjectId(e,m,v,u);else if(Buffer$5.isBuffer(v))u=serializeBuffer(e,m,v,u);else if(v instanceof RegExp||isRegExp$1(v))u=serializeRegExp(e,m,v,u);else if("object"===N&&null==v["_bsontype"])u=serializeObject(e,m,v,u,n,i,o,s,!1,a);else if("object"===N&&"Decimal128"===v["_bsontype"])u=serializeDecimal128(e,m,v,u);else if("Long"===v["_bsontype"]||"Timestamp"===v["_bsontype"])u=serializeLong(e,m,v,u);else if("Double"===v["_bsontype"])u=serializeDouble(e,m,v,u);else if("Code"===v["_bsontype"])u=serializeCode(e,m,v,u,n,i,o,s);else if("function"===typeof v&&o)u=serializeFunction(e,m,v,u,n,i,o);else if("Binary"===v["_bsontype"])u=serializeBinary(e,m,v,u);else if("Symbol"===v["_bsontype"])u=serializeSymbol(e,m,v,u);else if("DBRef"===v["_bsontype"])u=serializeDBRef(e,m,v,u,i,o);else if("BSONRegExp"===v["_bsontype"])u=serializeBSONRegExp(e,m,v,u);else if("Int32"===v["_bsontype"])u=serializeInt32(e,m,v,u);else if("MinKey"===v["_bsontype"]||"MaxKey"===v["_bsontype"])u=serializeMinMax(e,m,v,u);else if("undefined"!==typeof v["_bsontype"])throw new TypeError("Unrecognized or invalid _bsontype: "+v["_bsontype"])}}a.pop(),e[u++]=0;var S=u-r;return e[r++]=255&S,e[r++]=S>>8&255,e[r++]=S>>16&255,e[r++]=S>>24&255,u}var serializer=serializeInto;function _typeof$4(e){return _typeof$4="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$4(e)}var Buffer$6=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,normalizedFunctionString$2=utils.normalizedFunctionString;function isDate$2(e){return"object"===_typeof$4(e)&&"[object Date]"===Object.prototype.toString.call(e)}function calculateObjectSize(e,t,n){var r=5;if(Array.isArray(e))for(var i=0;i<e.length;i++)r+=calculateElement(i.toString(),e[i],t,!0,n);else for(var o in e.toBSON&&(e=e.toBSON()),e)r+=calculateElement(o,e[o],t,!1,n);return r}function calculateElement(e,t,n,r,i){switch(t&&t.toBSON&&(t=t.toBSON()),_typeof$4(t)){case"string":return 1+Buffer$6.byteLength(e,"utf8")+1+4+Buffer$6.byteLength(t,"utf8")+1;case"number":return Math.floor(t)===t&&t>=constants.JS_INT_MIN&&t<=constants.JS_INT_MAX&&t>=constants.BSON_INT32_MIN&&t<=constants.BSON_INT32_MAX?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+5:(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+9;case"undefined":return r||!i?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1:0;case"boolean":return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+2;case"object":if(null==t||"MinKey"===t["_bsontype"]||"MaxKey"===t["_bsontype"])return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1;if("ObjectId"===t["_bsontype"]||"ObjectID"===t["_bsontype"])return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+13;if(t instanceof Date||isDate$2(t))return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+9;if("undefined"!==typeof Buffer$6&&Buffer$6.isBuffer(t))return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+6+t.length;if("Long"===t["_bsontype"]||"Double"===t["_bsontype"]||"Timestamp"===t["_bsontype"])return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+9;if("Decimal128"===t["_bsontype"])return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+17;if("Code"===t["_bsontype"])return null!=t.scope&&Object.keys(t.scope).length>0?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+4+4+Buffer$6.byteLength(t.code.toString(),"utf8")+1+calculateObjectSize(t.scope,n,i):(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+4+Buffer$6.byteLength(t.code.toString(),"utf8")+1;if("Binary"===t["_bsontype"])return t.sub_type===binary.SUBTYPE_BYTE_ARRAY?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+(t.position+1+4+1+4):(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+(t.position+1+4+1);if("Symbol"===t["_bsontype"])return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+Buffer$6.byteLength(t.value,"utf8")+4+1+1;if("DBRef"===t["_bsontype"]){var o=Object.assign({$ref:t.collection,$id:t.oid},t.fields);return null!=t.db&&(o["$db"]=t.db),(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+calculateObjectSize(o,n,i)}return t instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(t)?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+Buffer$6.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1:"BSONRegExp"===t["_bsontype"]?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+Buffer$6.byteLength(t.pattern,"utf8")+1+Buffer$6.byteLength(t.options,"utf8")+1:(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+calculateObjectSize(t,n,i)+1;case"function":if(t instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(t)||"[object RegExp]"===String.call(t))return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+Buffer$6.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1;if(n&&null!=t.scope&&Object.keys(t.scope).length>0)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+4+4+Buffer$6.byteLength(normalizedFunctionString$2(t),"utf8")+1+calculateObjectSize(t.scope,n,i);if(n)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+4+Buffer$6.byteLength(normalizedFunctionString$2(t),"utf8")+1}return 0}var calculate_size=calculateObjectSize,Buffer$7=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,ensure_buffer=function(e){if(e instanceof Buffer$7)return e;if(e instanceof Uint8Array)return Buffer$7.from(e.buffer);throw new TypeError("Must use either Buffer or Uint8Array")},Buffer$8=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,MAXSIZE=17825792,buffer$1=Buffer$8.alloc(MAXSIZE);function setInternalBufferSize(e){buffer$1.length<e&&(buffer$1=Buffer$8.alloc(e))}function serialize$1(e,t){t=t||{};var n="boolean"===typeof t.checkKeys&&t.checkKeys,r="boolean"===typeof t.serializeFunctions&&t.serializeFunctions,i="boolean"!==typeof t.ignoreUndefined||t.ignoreUndefined,o="number"===typeof t.minInternalBufferSize?t.minInternalBufferSize:MAXSIZE;buffer$1.length<o&&(buffer$1=Buffer$8.alloc(o));var s=serializer(buffer$1,e,n,0,0,r,i,[]),a=Buffer$8.alloc(s);return buffer$1.copy(a,0,0,a.length),a}function serializeWithBufferAndIndex(e,t,n){n=n||{};var r="boolean"===typeof n.checkKeys&&n.checkKeys,i="boolean"===typeof n.serializeFunctions&&n.serializeFunctions,o="boolean"!==typeof n.ignoreUndefined||n.ignoreUndefined,s="number"===typeof n.index?n.index:0,a=serializer(buffer$1,e,r,0,0,i,o);return buffer$1.copy(t,s,0,a),s+a-1}function deserialize$2(e,t){return e=ensure_buffer(e),deserializer(e,t)}function calculateObjectSize$1(e,t){t=t||{};var n="boolean"===typeof t.serializeFunctions&&t.serializeFunctions,r="boolean"!==typeof t.ignoreUndefined||t.ignoreUndefined;return calculate_size(e,n,r)}function deserializeStream(e,t,n,r,i,o){o=Object.assign({allowObjectSmallerThanBufferSize:!0},o),e=ensure_buffer(e);for(var s=t,a=0;a<n;a++){var u=e[s]|e[s+1]<<8|e[s+2]<<16|e[s+3]<<24;o.index=s,r[i+a]=deserializer(e,o),s+=u}return s}var bson={BSON_INT32_MAX:constants.BSON_INT32_MAX,BSON_INT32_MIN:constants.BSON_INT32_MIN,BSON_INT64_MAX:constants.BSON_INT64_MAX,BSON_INT64_MIN:constants.BSON_INT64_MIN,JS_INT_MAX:constants.JS_INT_MAX,JS_INT_MIN:constants.JS_INT_MIN,BSON_DATA_NUMBER:constants.BSON_DATA_NUMBER,BSON_DATA_STRING:constants.BSON_DATA_STRING,BSON_DATA_OBJECT:constants.BSON_DATA_OBJECT,BSON_DATA_ARRAY:constants.BSON_DATA_ARRAY,BSON_DATA_BINARY:constants.BSON_DATA_BINARY,BSON_DATA_UNDEFINED:constants.BSON_DATA_UNDEFINED,BSON_DATA_OID:constants.BSON_DATA_OID,BSON_DATA_BOOLEAN:constants.BSON_DATA_BOOLEAN,BSON_DATA_DATE:constants.BSON_DATA_DATE,BSON_DATA_NULL:constants.BSON_DATA_NULL,BSON_DATA_REGEXP:constants.BSON_DATA_REGEXP,BSON_DATA_DBPOINTER:constants.BSON_DATA_DBPOINTER,BSON_DATA_CODE:constants.BSON_DATA_CODE,BSON_DATA_SYMBOL:constants.BSON_DATA_SYMBOL,BSON_DATA_CODE_W_SCOPE:constants.BSON_DATA_CODE_W_SCOPE,BSON_DATA_INT:constants.BSON_DATA_INT,BSON_DATA_TIMESTAMP:constants.BSON_DATA_TIMESTAMP,BSON_DATA_LONG:constants.BSON_DATA_LONG,BSON_DATA_DECIMAL128:constants.BSON_DATA_DECIMAL128,BSON_DATA_MIN_KEY:constants.BSON_DATA_MIN_KEY,BSON_DATA_MAX_KEY:constants.BSON_DATA_MAX_KEY,BSON_BINARY_SUBTYPE_DEFAULT:constants.BSON_BINARY_SUBTYPE_DEFAULT,BSON_BINARY_SUBTYPE_FUNCTION:constants.BSON_BINARY_SUBTYPE_FUNCTION,BSON_BINARY_SUBTYPE_BYTE_ARRAY:constants.BSON_BINARY_SUBTYPE_BYTE_ARRAY,BSON_BINARY_SUBTYPE_UUID:constants.BSON_BINARY_SUBTYPE_UUID,BSON_BINARY_SUBTYPE_MD5:constants.BSON_BINARY_SUBTYPE_MD5,BSON_BINARY_SUBTYPE_USER_DEFINED:constants.BSON_BINARY_SUBTYPE_USER_DEFINED,Code:code,Map:map,BSONSymbol:symbol,DBRef:db_ref,Binary:binary,ObjectId:objectid,Long:long_1,Timestamp:timestamp,Double:double_1,Int32:int_32,MinKey:min_key,MaxKey:max_key,BSONRegExp:regexp,Decimal128:decimal128,serialize:serialize$1,serializeWithBufferAndIndex:serializeWithBufferAndIndex,deserialize:deserialize$2,calculateObjectSize:calculateObjectSize$1,deserializeStream:deserializeStream,setInternalBufferSize:setInternalBufferSize,ObjectID:objectid,EJSON:extended_json},bson_1=bson.BSON_INT32_MAX,bson_2=bson.BSON_INT32_MIN,bson_3=bson.BSON_INT64_MAX,bson_4=bson.BSON_INT64_MIN,bson_5=bson.JS_INT_MAX,bson_6=bson.JS_INT_MIN,bson_7=bson.BSON_DATA_NUMBER,bson_8=bson.BSON_DATA_STRING,bson_9=bson.BSON_DATA_OBJECT,bson_10=bson.BSON_DATA_ARRAY,bson_11=bson.BSON_DATA_BINARY,bson_12=bson.BSON_DATA_UNDEFINED,bson_13=bson.BSON_DATA_OID,bson_14=bson.BSON_DATA_BOOLEAN,bson_15=bson.BSON_DATA_DATE,bson_16=bson.BSON_DATA_NULL,bson_17=bson.BSON_DATA_REGEXP,bson_18=bson.BSON_DATA_DBPOINTER,bson_19=bson.BSON_DATA_CODE,bson_20=bson.BSON_DATA_SYMBOL,bson_21=bson.BSON_DATA_CODE_W_SCOPE,bson_22=bson.BSON_DATA_INT,bson_23=bson.BSON_DATA_TIMESTAMP,bson_24=bson.BSON_DATA_LONG,bson_25=bson.BSON_DATA_DECIMAL128,bson_26=bson.BSON_DATA_MIN_KEY,bson_27=bson.BSON_DATA_MAX_KEY,bson_28=bson.BSON_BINARY_SUBTYPE_DEFAULT,bson_29=bson.BSON_BINARY_SUBTYPE_FUNCTION,bson_30=bson.BSON_BINARY_SUBTYPE_BYTE_ARRAY,bson_31=bson.BSON_BINARY_SUBTYPE_UUID,bson_32=bson.BSON_BINARY_SUBTYPE_MD5,bson_33=bson.BSON_BINARY_SUBTYPE_USER_DEFINED,bson_34=bson.Code,bson_35=bson.BSONSymbol,bson_36=bson.DBRef,bson_37=bson.Binary,bson_38=bson.ObjectId,bson_39=bson.Long,bson_40=bson.Timestamp,bson_41=bson.Double,bson_42=bson.Int32,bson_43=bson.MinKey,bson_44=bson.MaxKey,bson_45=bson.BSONRegExp,bson_46=bson.Decimal128,bson_47=bson.serialize,bson_48=bson.serializeWithBufferAndIndex,bson_49=bson.deserialize,bson_50=bson.calculateObjectSize,bson_51=bson.deserializeStream,bson_52=bson.setInternalBufferSize,bson_53=bson.ObjectID,bson_54=bson.EJSON,_unused_webpack_default_export=bson}).call(this,__webpack_require__("c8ba"),__webpack_require__("1c35").Buffer)},aae3:function(e,t,n){var r=n("d3f4"),i=n("2d95"),o=n("2b4c")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},b0c5:function(e,t,n){"use strict";var r=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},da5a:function(e,t){e.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(T){}function r(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function i(e){return!0===(e&&e["__isLong__"])}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=i;var o={},s={};function a(e,t){var n,r,i;return t?(e>>>=0,(i=0<=e&&e<256)&&(r=s[e],r)?r:(n=l(e,(0|e)<0?-1:0,!0),i&&(s[e]=n),n)):(e|=0,(i=-128<=e&&e<128)&&(r=o[e],r)?r:(n=l(e,e<0?-1:0,!1),i&&(o[e]=n),n))}function u(e,t){if(isNaN(e))return t?v:m;if(t){if(e<0)return v;if(e>=g)return O}else{if(e<=-b)return w;if(e+1>=b)return E}return e<0?u(-e,t).neg():l(e%d|0,e/d|0,t)}function l(e,t,n){return new r(e,t,n)}r.fromInt=a,r.fromNumber=u,r.fromBits=l;var f=Math.pow;function c(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return m;if("number"===typeof t?(n=t,t=!1):t=!!t,n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return c(e.substring(1),t,n).neg();for(var i=u(f(n,8)),o=m,s=0;s<e.length;s+=8){var a=Math.min(8,e.length-s),l=parseInt(e.substring(s,s+a),n);if(a<8){var _=u(f(n,a));o=o.mul(_).add(u(l))}else o=o.mul(i),o=o.add(u(l))}return o.unsigned=t,o}function _(e,t){return"number"===typeof e?u(e,t):"string"===typeof e?c(e,t):l(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}r.fromString=c,r.fromValue=_;var h=65536,p=1<<24,d=h*h,g=d*d,b=g/2,y=a(p),m=a(0);r.ZERO=m;var v=a(0,!0);r.UZERO=v;var N=a(1);r.ONE=N;var S=a(1,!0);r.UONE=S;var B=a(-1);r.NEG_ONE=B;var E=l(-1,2147483647,!1);r.MAX_VALUE=E;var O=l(-1,-1,!0);r.MAX_UNSIGNED_VALUE=O;var w=l(0,-2147483648,!1);r.MIN_VALUE=w;var A=r.prototype;A.toInt=function(){return this.unsigned?this.low>>>0:this.low},A.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},A.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(w)){var t=u(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}var i=u(f(e,6),this.unsigned),o=this,s="";while(1){var a=o.div(i),l=o.sub(a.mul(i)).toInt()>>>0,c=l.toString(e);if(o=a,o.isZero())return c+s;while(c.length<6)c="0"+c;s=""+c+s}},A.getHighBits=function(){return this.high},A.getHighBitsUnsigned=function(){return this.high>>>0},A.getLowBits=function(){return this.low},A.getLowBitsUnsigned=function(){return this.low>>>0},A.getNumBitsAbs=function(){if(this.isNegative())return this.eq(w)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0;t--)if(0!=(e&1<<t))break;return 0!=this.high?t+33:t+1},A.isZero=function(){return 0===this.high&&0===this.low},A.eqz=A.isZero,A.isNegative=function(){return!this.unsigned&&this.high<0},A.isPositive=function(){return this.unsigned||this.high>=0},A.isOdd=function(){return 1===(1&this.low)},A.isEven=function(){return 0===(1&this.low)},A.equals=function(e){return i(e)||(e=_(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},A.eq=A.equals,A.notEquals=function(e){return!this.eq(e)},A.neq=A.notEquals,A.ne=A.notEquals,A.lessThan=function(e){return this.comp(e)<0},A.lt=A.lessThan,A.lessThanOrEqual=function(e){return this.comp(e)<=0},A.lte=A.lessThanOrEqual,A.le=A.lessThanOrEqual,A.greaterThan=function(e){return this.comp(e)>0},A.gt=A.greaterThan,A.greaterThanOrEqual=function(e){return this.comp(e)>=0},A.gte=A.greaterThanOrEqual,A.ge=A.greaterThanOrEqual,A.compare=function(e){if(i(e)||(e=_(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},A.comp=A.compare,A.negate=function(){return!this.unsigned&&this.eq(w)?w:this.not().add(N)},A.neg=A.negate,A.add=function(e){i(e)||(e=_(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,o=65535&this.low,s=e.high>>>16,a=65535&e.high,u=e.low>>>16,f=65535&e.low,c=0,h=0,p=0,d=0;return d+=o+f,p+=d>>>16,d&=65535,p+=r+u,h+=p>>>16,p&=65535,h+=n+a,c+=h>>>16,h&=65535,c+=t+s,c&=65535,l(p<<16|d,c<<16|h,this.unsigned)},A.subtract=function(e){return i(e)||(e=_(e)),this.add(e.neg())},A.sub=A.subtract,A.multiply=function(e){if(this.isZero())return m;if(i(e)||(e=_(e)),n){var t=n.mul(this.low,this.high,e.low,e.high);return l(t,n.get_high(),this.unsigned)}if(e.isZero())return m;if(this.eq(w))return e.isOdd()?w:m;if(e.eq(w))return this.isOdd()?w:m;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(y)&&e.lt(y))return u(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,o=65535&this.high,s=this.low>>>16,a=65535&this.low,f=e.high>>>16,c=65535&e.high,h=e.low>>>16,p=65535&e.low,d=0,g=0,b=0,v=0;return v+=a*p,b+=v>>>16,v&=65535,b+=s*p,g+=b>>>16,b&=65535,b+=a*h,g+=b>>>16,b&=65535,g+=o*p,d+=g>>>16,g&=65535,g+=s*h,d+=g>>>16,g&=65535,g+=a*c,d+=g>>>16,g&=65535,d+=r*p+o*h+s*c+a*f,d&=65535,l(b<<16|v,d<<16|g,this.unsigned)},A.mul=A.multiply,A.divide=function(e){if(i(e)||(e=_(e)),e.isZero())throw Error("division by zero");if(n){if(!this.unsigned&&-2147483648===this.high&&-1===e.low&&-1===e.high)return this;var t=(this.unsigned?n.div_u:n.div_s)(this.low,this.high,e.low,e.high);return l(t,n.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?v:m;var r,o,s;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return v;if(e.gt(this.shru(1)))return S;s=v}else{if(this.eq(w)){if(e.eq(N)||e.eq(B))return w;if(e.eq(w))return N;var a=this.shr(1);return r=a.div(e).shl(1),r.eq(m)?e.isNegative()?N:B:(o=this.sub(e.mul(r)),s=r.add(o.div(e)),s)}if(e.eq(w))return this.unsigned?v:m;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=m}o=this;while(o.gte(e)){r=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));var c=Math.ceil(Math.log(r)/Math.LN2),h=c<=48?1:f(2,c-48),p=u(r),d=p.mul(e);while(d.isNegative()||d.gt(o))r-=h,p=u(r,this.unsigned),d=p.mul(e);p.isZero()&&(p=N),s=s.add(p),o=o.sub(d)}return s},A.div=A.divide,A.modulo=function(e){if(i(e)||(e=_(e)),n){var t=(this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,e.low,e.high);return l(t,n.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},A.mod=A.modulo,A.rem=A.modulo,A.not=function(){return l(~this.low,~this.high,this.unsigned)},A.and=function(e){return i(e)||(e=_(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},A.or=function(e){return i(e)||(e=_(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},A.xor=function(e){return i(e)||(e=_(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},A.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},A.shl=A.shiftLeft,A.shiftRight=function(e){return i(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},A.shr=A.shiftRight,A.shiftRightUnsigned=function(e){if(i(e)&&(e=e.toInt()),e&=63,0===e)return this;var t=this.high;if(e<32){var n=this.low;return l(n>>>e|t<<32-e,t>>>e,this.unsigned)}return l(32===e?t:t>>>e-32,0,this.unsigned)},A.shru=A.shiftRightUnsigned,A.shr_u=A.shiftRightUnsigned,A.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},A.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},A.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},A.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},A.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}}}]);
//# sourceMappingURL=chunk-0a16a029.88701848.js.map